import{y as t,r,C as at,u as ea,D as ta,j as f,B as na}from"./components-bfDKBDPN.js";import{c as F,v as et,g as mn,b as Je,s as hn,T as R,I as aa,d as ve,e as sa,f as oe,h as J,S as bn,U as wt,u as gn,K as qe,i as Xe,l as ra,a as xe,j as ct,k as Ce,m as Mt,M as vn,W as At,B as pe,n as oa,o as se,p as je,q as En,L as ia,r as la,t as Me,w as ca,x as ua,y as da,z as pa,A as Vt,D as fa,E as ma,G as ha,F as It,H as xn,J as ba,N as Cn,O as ga,Q as va,P as Tn,C as st}from"./Page-BapPfwum.js";import{d as yn,s as Ea,f as xa,j as kn,i as mt,F as Ca,E as Ta,p as ya,k as ka}from"./context-fvRqhjvj.js";var Pn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),t.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),t.createElement("path",{fillRule:"evenodd",d:"M11.237 3.177a1.75 1.75 0 0 0-2.474 0l-5.586 5.585a1.75 1.75 0 0 0 0 2.475l5.586 5.586a1.75 1.75 0 0 0 2.474 0l5.586-5.586a1.75 1.75 0 0 0 0-2.475l-5.586-5.585Zm-1.414 1.06a.25.25 0 0 1 .354 0l5.586 5.586a.25.25 0 0 1 0 .354l-5.586 5.585a.25.25 0 0 1-.354 0l-5.586-5.585a.25.25 0 0 1 0-.354l5.586-5.586Z"}))};Pn.displayName="AlertDiamondIcon";var Sn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M10 6.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),t.createElement("path",{d:"M11 13.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),t.createElement("path",{fillRule:"evenodd",d:"M10 3.5c-1.045 0-1.784.702-2.152 1.447a449.26 449.26 0 0 1-2.005 3.847l-.028.052a403.426 403.426 0 0 0-2.008 3.856c-.372.752-.478 1.75.093 2.614.57.863 1.542 1.184 2.464 1.184h7.272c.922 0 1.895-.32 2.464-1.184.57-.864.465-1.862.093-2.614-.21-.424-1.113-2.147-2.004-3.847l-.032-.061a429.497 429.497 0 0 1-2.005-3.847c-.368-.745-1.107-1.447-2.152-1.447Zm-.808 2.112c.404-.816 1.212-.816 1.616 0 .202.409 1.112 2.145 2.022 3.88a418.904 418.904 0 0 1 2.018 3.875c.404.817 0 1.633-1.212 1.633h-7.272c-1.212 0-1.617-.816-1.212-1.633.202-.408 1.113-2.147 2.023-3.883a421.932 421.932 0 0 0 2.017-3.872Z"}))};Sn.displayName="AlertTriangleIcon";var Nt=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M15.78 5.97a.75.75 0 0 1 0 1.06l-6.5 6.5a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 1 1 1.06-1.06l2.72 2.72 5.97-5.97a.75.75 0 0 1 1.06 0Z"}))};Nt.displayName="CheckIcon";var wn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M11.5 8.25a.75.75 0 0 1 .75.75v4.25a.75.75 0 0 1-1.5 0v-4.25a.75.75 0 0 1 .75-.75Z"}),t.createElement("path",{d:"M9.25 9a.75.75 0 0 0-1.5 0v4.25a.75.75 0 0 0 1.5 0v-4.25Z"}),t.createElement("path",{fillRule:"evenodd",d:"M7.25 5.25a2.75 2.75 0 0 1 5.5 0h3a.75.75 0 0 1 0 1.5h-.75v5.45c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327h-.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311c-.327-.642-.327-1.482-.327-3.162v-5.45h-.75a.75.75 0 0 1 0-1.5h3Zm1.5 0a1.25 1.25 0 1 1 2.5 0h-2.5Zm-2.25 1.5h7v5.45c0 .865-.001 1.423-.036 1.848-.033.408-.09.559-.128.633a1.5 1.5 0 0 1-.655.655c-.074.038-.225.095-.633.128-.425.035-.983.036-1.848.036h-.4c-.865 0-1.423-.001-1.848-.036-.408-.033-.559-.09-.633-.128a1.5 1.5 0 0 1-.656-.655c-.037-.074-.094-.225-.127-.633-.035-.425-.036-.983-.036-1.848v-5.45Z"}))};wn.displayName="DeleteIcon";var Mn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M11.25 8.5c-.414 0-.75.336-.75.75v1.25h-1.25c-.414 0-.75.336-.75.75s.336.75.75.75h1.25v1.25c0 .414.336.75.75.75s.75-.336.75-.75v-1.25h1.25c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-1.25v-1.25c0-.414-.336-.75-.75-.75Z"}),t.createElement("path",{fillRule:"evenodd",d:"M8.75 16.5c-1.438 0-2.618-1.104-2.74-2.51-1.406-.122-2.51-1.302-2.51-2.74v-5c0-1.519 1.231-2.75 2.75-2.75h5c1.438 0 2.618 1.104 2.74 2.51 1.406.122 2.51 1.302 2.51 2.74v5c0 1.519-1.231 2.75-2.75 2.75h-5Zm0-10.5c-1.519 0-2.75 1.231-2.75 2.75v3.725c-.57-.116-1-.62-1-1.225v-5c0-.69.56-1.25 1.25-1.25h5c.605 0 1.11.43 1.225 1h-3.725Zm0 1.5c-.69 0-1.25.56-1.25 1.25v5c0 .69.56 1.25 1.25 1.25h5c.69 0 1.25-.56 1.25-1.25v-5c0-.69-.56-1.25-1.25-1.25h-5Z"}))};Mn.displayName="DuplicateIcon";var An=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M15.655 4.344a2.695 2.695 0 0 0-3.81 0l-.599.599-.009-.009-1.06 1.06.008.01-5.88 5.88a2.75 2.75 0 0 0-.805 1.944v1.922a.75.75 0 0 0 .75.75h1.922a2.75 2.75 0 0 0 1.944-.806l7.54-7.539a2.695 2.695 0 0 0 0-3.81Zm-4.409 2.72-5.88 5.88a1.25 1.25 0 0 0-.366.884v1.172h1.172c.331 0 .65-.132.883-.366l5.88-5.88-1.689-1.69Zm2.75.629.599-.599a1.195 1.195 0 1 0-1.69-1.689l-.598.599 1.69 1.689Z"}))};An.displayName="EditIcon";var Ot=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M10 14a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5a.75.75 0 0 1-.75.75Z"}),t.createElement("path",{d:"M9 7a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"}),t.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};Ot.displayName="InfoIcon";var In=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M3 6.75c0-2.071 1.679-3.75 3.75-3.75h6.5c2.071 0 3.75 1.679 3.75 3.75v6.5c0 2.071-1.679 3.75-3.75 3.75h-6.5c-2.071 0-3.75-1.679-3.75-3.75v-6.5Zm3.75-2.25c-1.243 0-2.25 1.007-2.25 2.25v6.5c0 1.243 1.007 2.25 2.25 2.25h.5v-11h-.5Zm4.5 11h-2.5v-11h2.5v11Zm1.5 0h.5c1.243 0 2.25-1.007 2.25-2.25v-6.5c0-1.243-1.007-2.25-2.25-2.25h-.5v11Z"}))};In.displayName="LayoutColumns3Icon";var Nn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M5 10c0-.414.336-.75.75-.75h8.5c.414 0 .75.336.75.75s-.336.75-.75.75h-8.5c-.414 0-.75-.336-.75-.75Z"}))};Nn.displayName="MinusIcon";var On=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};On.displayName="PlusIcon";var Dt=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M16.5 6.26a.75.75 0 0 1-1.5 0v-.51a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.51a.75.75 0 0 1-1.5 0v-.51a2.25 2.25 0 0 1 2.25-2.25h8.5a2.25 2.25 0 0 1 2.25 2.25v.51Z"}),t.createElement("path",{d:"M10.75 16.01a.75.75 0 0 1-1.5 0v-6.69l-1.72 1.72a.75.75 0 1 1-1.06-1.06l3-3a.75.75 0 0 1 1.06 0l3 3a.75.75 0 1 1-1.06 1.06l-1.72-1.72v6.69Z"}))};Dt.displayName="UploadIcon";var Ft=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M12.72 13.78a.75.75 0 1 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06l-2.72 2.72-2.72-2.72a.75.75 0 0 0-1.06 1.06l2.72 2.72-2.72 2.72a.75.75 0 1 0 1.06 1.06l2.72-2.72 2.72 2.72Z"}))};Ft.displayName="XIcon";function Pa({alt:e,sourceSet:n,source:s,crossOrigin:a,onLoad:i,className:l,...u}){const c=n?n.map(({source:d,descriptor:p})=>`${d} ${p}`).join(","):null,o=r.useCallback(()=>{i&&i()},[i]);return t.createElement("img",Object.assign({alt:e,src:s,crossOrigin:a,className:l,onLoad:o},c?{srcSet:c}:{},u))}function Sa(e){return typeof e[0]=="object"&&Object.prototype.hasOwnProperty.call(e[0],"options")}var wa={SectionWrapper:"Polaris-Autocomplete__SectionWrapper"},rt={Content:"Polaris-Autocomplete-MappedOption__Content",Media:"Polaris-Autocomplete-MappedOption__Media",singleSelectionMedia:"Polaris-Autocomplete-MappedOption--singleSelectionMedia",disabledMedia:"Polaris-Autocomplete-MappedOption--disabledMedia"},Ma={Listbox:"Polaris-Listbox"};const Dn=r.createContext(void 0),Fn=r.createContext({}),Ln=r.createContext({});function Aa(){const e=r.useContext(Dn);if(!e)throw new Error("No Combobox was provided. Your component must be wrapped in a <Combobox> component.");return e}function Ia(){return r.useContext(Fn)}function Na(e,n){const s=n.scrollTop,a=s+n.clientHeight,{offsetHeight:i}=e,{offsetTop:l}=e,u=l+i;if(!(l>s&&u<a)){let o=0;u>a?o=u+i*.85-a:l<s&&(o=l-i*.15-s),requestAnimationFrame(()=>{n.scrollBy({top:o,behavior:"auto"})})}}const jn=r.createContext(void 0),_n=r.createContext(!1),Lt=r.createContext(!1);var Be={TextOption:"Polaris-Listbox-TextOption",allowMultiple:"Polaris-Listbox-TextOption--allowMultiple",isAction:"Polaris-Listbox-TextOption--isAction",disabled:"Polaris-Listbox-TextOption--disabled",selected:"Polaris-Listbox-TextOption--selected",Content:"Polaris-Listbox-TextOption__Content",Checkbox:"Polaris-Listbox-TextOption__Checkbox"},we={Checkbox:"Polaris-Checkbox",ChoiceLabel:"Polaris-Checkbox__ChoiceLabel",Backdrop:"Polaris-Checkbox__Backdrop",Input:"Polaris-Checkbox__Input","Input-indeterminate":"Polaris-Checkbox__Input--indeterminate",Icon:"Polaris-Checkbox__Icon",animated:"Polaris-Checkbox--animated",toneMagic:"Polaris-Checkbox--toneMagic",hover:"Polaris-Checkbox--hover",error:"Polaris-Checkbox--error",checked:"Polaris-Checkbox--checked",pathAnimation:"Polaris-Checkbox--pathAnimation"},De={Choice:"Polaris-Choice",labelHidden:"Polaris-Choice--labelHidden",Label:"Polaris-Choice__Label",Control:"Polaris-Choice__Control",disabled:"Polaris-Choice--disabled",toneMagic:"Polaris-Choice--toneMagic",Descriptions:"Polaris-Choice__Descriptions",HelpText:"Polaris-Choice__HelpText"};function Oa({id:e,label:n,disabled:s,error:a,children:i,labelHidden:l,helpText:u,onClick:c,labelClassName:o,fill:d,bleed:p,bleedBlockStart:m,bleedBlockEnd:h,bleedInlineStart:v,bleedInlineEnd:b,tone:T}){const g=F(De.Choice,l&&De.labelHidden,s&&De.disabled,T&&De[et("tone",T)],o),x={...Je("choice","bleed-block-end","space",h||p),...Je("choice","bleed-block-start","space",m||p),...Je("choice","bleed-inline-start","space",v||p),...Je("choice","bleed-inline-end","space",b||p),...Object.fromEntries(Object.entries(mn("choice","fill",d)).map(([S,j])=>[S,j?"100%":"auto"]))},k=t.createElement("label",{className:g,htmlFor:e,onClick:c,style:hn(x)},t.createElement("span",{className:De.Control},i),t.createElement("span",{className:De.Label},t.createElement(R,{as:"span",variant:"bodyMd"},n))),D=u?t.createElement("div",{className:De.HelpText,id:Bn(e)},t.createElement(R,{as:"span",tone:s?void 0:"subdued"},u)):null,N=a&&typeof a!="boolean"&&t.createElement("div",{className:De.Error},t.createElement(aa,{message:a,fieldID:e})),y=D||N?t.createElement("div",{className:De.Descriptions},N,D):null;return y?t.createElement("div",null,k,y):k}function Bn(e){return`${e}HelpText`}const Da=r.forwardRef(function({ariaControls:n,ariaDescribedBy:s,label:a,labelHidden:i,checked:l=!1,helpText:u,disabled:c,id:o,name:d,value:p,error:m,onChange:h,onFocus:v,onBlur:b,labelClassName:T,fill:g,bleed:x,bleedBlockStart:k,bleedBlockEnd:D,bleedInlineStart:N,bleedInlineEnd:y,tone:S},j){const O=r.useRef(null),H=r.useId(),$=o??H,W=r.useContext(_n);r.useImperativeHandle(j,()=>({focus:()=>{O.current&&O.current.focus()}}));const V=()=>{b&&b()},X=()=>{h==null||O.current==null||c||(h(O.current.checked,$),O.current.focus())},z=[];m&&typeof m!="boolean"&&z.push(sa($)),u&&z.push(Bn($)),s&&z.push(s);const ee=z.length?z.join(" "):void 0,G=F(we.Checkbox,m&&we.error),te=l==="indeterminate",ie=!te&&!!l,le=te?{indeterminate:"true","aria-checked":"mixed"}:{"aria-checked":ie},U=t.createElement("svg",{viewBox:"0 0 16 16",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},t.createElement("path",{className:F(l&&we.checked),d:"M1.5,5.5L3.44655,8.22517C3.72862,8.62007,4.30578,8.64717,4.62362,8.28044L10.5,1.5",transform:"translate(2 2.980376)",opacity:"0",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",pathLength:"1"})),Y=F(we.Input,te&&we["Input-indeterminate"],S&&we[et("tone",S)]),ce={helpText:u,error:m,bleed:x,bleedBlockStart:k,bleedBlockEnd:D,bleedInlineStart:N,bleedInlineEnd:y};return t.createElement(Oa,Object.assign({id:$,label:a,labelHidden:i,disabled:c,labelClassName:F(we.ChoiceLabel,T),fill:g,tone:S},ce),t.createElement("span",{className:G},t.createElement("input",Object.assign({ref:O,id:$,name:d,value:p,type:"checkbox",checked:ie,disabled:c,className:Y,onBlur:V,onChange:Fa,onClick:X,onFocus:v,"aria-invalid":m!=null,"aria-controls":n,"aria-describedby":ee,role:W?"presentation":"checkbox"},le)),t.createElement("span",{className:we.Backdrop,onClick:zt,onKeyUp:zt}),t.createElement("span",{className:F(we.Icon,!te&&we.animated)},te?t.createElement(ve,{source:Nn}):U)))});function Fa(){}function zt(e){e.stopPropagation()}const jt=r.memo(function({children:n,selected:s,disabled:a}){const{allowMultiple:i}=r.useContext(Ln),l=r.useContext(Lt),u=F(Be.TextOption,s&&!i&&Be.selected,a&&Be.disabled,i&&Be.allowMultiple,l&&Be.isAction),c=s?t.createElement(oe,{width:"100%"},t.createElement(J,{wrap:!1,align:"space-between",gap:"200"},n,t.createElement(J,{align:"end"},t.createElement(ve,{source:Nt})))):t.createElement(t.Fragment,null,n);return t.createElement("div",{className:u},t.createElement("div",{className:Be.Content},i&&!l?t.createElement("div",{className:Be.Checkbox},t.createElement(Da,{disabled:a,checked:s,label:n})):c))});var Kt={ListItem:"Polaris-Listbox-Loading__ListItem",Loading:"Polaris-Listbox-Loading"};function Rn(){const e=r.useContext(jn);if(!e)throw new Error("No Listbox was provided. Listbox components must be wrapped in a Listbox");return e}const La=r.memo(function({children:n,accessibilityLabel:s}){const{setLoading:a}=Rn();return r.useEffect(()=>(a(s),()=>{a(void 0)}),[s,a]),t.createElement("li",{className:Kt.ListItem,role:"presentation"},n||t.createElement("div",{className:Kt.Loading},t.createElement(bn,{size:"small",accessibilityLabel:s})))}),ja={props:{"data-polaris-listbox-section-item":!0}},_a={attribute:"data-polaris-listbox-within-section-item"},Wn=r.createContext(null);var Gt={SectionGroup:"Polaris-Listbox-Section__SectionGroup",noDivider:"Polaris-Listbox-Section--noDivider"};function Ba({children:e,divider:n=!0,title:s}){const a=r.useId();return t.createElement(Wn.Provider,{value:a},t.createElement("li",Object.assign({role:"presentation"},ja.props),s,t.createElement("ul",{role:"group","aria-labelledby":a,className:F(Gt.SectionGroup,!n&&Gt.noDivider)},e)))}function $n(){return r.useContext(Wn)}function Ra({children:e}){const n=$n()||"",s=typeof e=="string"?t.createElement(oe,{paddingBlockStart:"200",paddingInlineStart:"400",paddingBlockEnd:"200",paddingInlineEnd:"400"},t.createElement(R,{as:"span",variant:"headingSm",tone:"subdued"},e)):e;return t.createElement("div",{"aria-hidden":!0,id:n},s)}var ht={Action:"Polaris-Listbox-Action",ActionDivider:"Polaris-Listbox-Action__ActionDivider",Icon:"Polaris-Listbox-Action__Icon"},qt={Option:"Polaris-Listbox-Option",divider:"Polaris-Listbox-Option--divider"};const Un=r.createContext({}),Zn=r.memo(function({value:n,children:s,selected:a,disabled:i=!1,accessibilityLabel:l,divider:u}){const{onOptionSelect:c}=Rn(),o=r.useContext(Lt),{role:d,url:p,external:m,onAction:h,destructive:v}=r.useContext(Un),b=r.useRef(null),T=r.useId(),x=!!$n(),k=r.useCallback(O=>{O.preventDefault(),O.stopPropagation(),h&&h(),b.current&&!h&&c({domId:T,value:n,element:b.current,disabled:i})},[T,c,n,i,h]),D=O=>{O.preventDefault()},N=typeof s=="string"?t.createElement(jt,{selected:a,disabled:i},s):s,y={[_a.attribute]:x},S=d||"option",j=p?t.createElement(wt,{url:p,external:m},N):N;return t.createElement("li",Object.assign({},y,{"data-listbox-option":!0,"data-listbox-option-action":o,"data-listbox-option-value":n,"data-listbox-option-destructive":v,"data-within-section":x,className:F(qt.Option,u&&qt.divider),id:T,ref:b,tabIndex:-1,role:S,"aria-label":l,"aria-selected":a,"aria-disabled":i,onClick:i?void 0:k,onKeyDown:i?void 0:k,onMouseDown:D}),j)});function Wa(e){const{selected:n,disabled:s,children:a,icon:i,divider:l}=e,u=i&&t.createElement("div",{className:ht.Icon},t.createElement(ve,{tone:"subdued",source:i})),c=F(ht.Action,l&&ht.ActionDivider);return t.createElement(Lt.Provider,{value:!0},t.createElement(Zn,e,t.createElement("div",{className:c},t.createElement(jt,{selected:n,disabled:s},u,a))))}let Ue;(function(e){e.FirstSelected="FIRST_SELECTED",e.First="FIRST",e.None="NONE"})(Ue||(Ue={}));const $a="[data-listbox-option]",bt="data-listbox-option-value",Ua="data-listbox-option-action",Xt="data-focused";function ge({children:e,autoSelection:n=Ue.FirstSelected,enableKeyboardControl:s,accessibilityLabel:a,customListId:i,onSelect:l,onActiveOptionChange:u}){const[c,o]=r.useState(),[d,p]=r.useState(),[m,h]=r.useState(!1),[v,b]=r.useState([]),{value:T,setTrue:g,setFalse:x}=gn(!!s),k=r.useId(),D=i||k,N=r.useRef(null),y=r.useRef(null),{listboxId:S,textFieldLabelId:j,textFieldFocused:O,willLoadMoreOptions:H,setActiveOptionId:$,setListboxId:W,onOptionSelected:V,onKeyToBottom:X}=Ia(),z=!!$;r.useEffect(()=>{W&&!S&&W(D)},[W,S,D]);const ee=r.useCallback(()=>y.current?[...new Set(y.current.querySelectorAll($a))]:[],[]),G=r.useCallback(P=>{const L=P.some(ne=>ne.getAttribute("aria-selected")==="true");let Q=0;const q=P.find((ne,_)=>{const de=ne.getAttribute("aria-disabled")!=="true";let he;return L&&n===Ue.FirstSelected?he=ne.getAttribute("aria-selected")==="true"&&de:he=de,he&&(Q=_),he});if(q)return{element:q,index:Q}},[n]),te=r.useCallback(P=>{const{current:L}=N;L&&Na(P.element,L)},[]),ie=yn(te,50),le=r.useCallback(()=>{if(X)return h(!0),Promise.resolve(X())},[X]),U=r.useCallback(P=>{if(!P)return p(void 0);d?.element.removeAttribute(Xt),P.element.setAttribute(Xt,"true"),ie(P),p(P),$?.(P.domId),u?.(P.value,P.domId)},[d,$,u,ie]),Y=r.useCallback((P,L)=>({element:P,index:L,domId:P.id,value:P.getAttribute(bt)||"",disabled:P.getAttribute("aria-disabled")==="true",isAction:P.getAttribute(Ua)==="true"}),[]),ce=r.useCallback(()=>{let P;const L=ee(),Q=G(L);if(L.length===0&&v.length>0){b(L),U();return}if(Q){const{element:be,index:Oe}=Q;P=Y(be,Oe)}const q=d!==void 0&&P?.domId===d?.domId,ne=d?.isAction&&P?.isAction&&P?.value!==d?.value,_=v.map(be=>be.getAttribute(bt)),de=L.map(be=>be.getAttribute(bt)),he=de.length===_.length&&de.every((be,Oe)=>_[Oe]===be),Ne=_.length!==0&&de.length>_.length&&_.every((be,Oe)=>de[Oe]===be);if(he){q&&ne&&(b(L),U(P));return}if(Ne){b(L);return}if(b(L),m){h(!1);return}U(P)},[m,v,d,G,ee,Y,U]);r.useEffect(()=>{n!==Ue.None&&!c&&e&&r.Children.count(e)>0&&ce()},[e,n,d,c,ce]),r.useEffect(()=>{y.current&&(N.current=y.current.closest(Ea.selector))},[]),r.useEffect(()=>{s&&!T&&g()},[s,T,g]);const re=r.useCallback(P=>{U(P),V&&V(),l&&l(P.value)},[U,l,V]),Te=r.useCallback((P,L,Q)=>{let q;return Q==="down"?P===L?q=H?P+1:0:q=P+1:q=P===0?L:P-1,q},[H]),E=r.useCallback(async P=>{const L=v.length-1;let Q=d?.index||0,q=0,ne=d?.element,_=-1;if(!d&&n===Ue.None){const de=ee(),he=G(de);return b(de),{element:he?.element,nextIndex:he?.index||0}}for(;_++<L;){q=Te(Q,L,P),ne=v[q];const de=q>=L,he=ne?.getAttribute("aria-disabled")==="true";if(de&&H&&await le(),he){Q=q,ne=void 0;continue}break}return{element:ne,nextIndex:q}},[n,v,d,H,Te,le,G,ee]),w=r.useCallback(async(P,L)=>{L.preventDefault();const{element:Q,nextIndex:q}=await E(P);if(!Q)return;const ne=Y(Q,q);U(ne)},[Y,E,U]),A=r.useCallback(P=>{w("down",P)},[w]),K=r.useCallback(P=>{w("up",P)},[w]),ue=r.useCallback(P=>{P.preventDefault(),P.stopPropagation(),d&&re(d)},[d,re]),Se=r.useCallback(()=>{s||g()},[s,g]),Ie=r.useCallback(P=>{if(P.stopPropagation(),T){const L=G(v);if(L){const{element:Q,index:q}=L,ne=Y(Q,q);U(ne)}}s||x()},[s,v,T,x,G,Y,U]),Fe=T||O?t.createElement(t.Fragment,null,t.createElement(qe,{keyEvent:"keydown",keyCode:Xe.DownArrow,handler:A}),t.createElement(qe,{keyEvent:"keydown",keyCode:Xe.UpArrow,handler:K}),t.createElement(qe,{keyEvent:"keydown",keyCode:Xe.Enter,handler:ue})):null,Ee=r.useMemo(()=>({onOptionSelect:re,setLoading:o}),[re]);return t.createElement(t.Fragment,null,Fe,t.createElement(R,{as:"span",visuallyHidden:!0},t.createElement("div",{"aria-live":"polite"},c||null)),t.createElement(jn.Provider,{value:Ee},t.createElement(_n.Provider,{value:!0},e?t.createElement("ul",{tabIndex:0,role:"listbox",className:Ma.Listbox,"aria-label":z?void 0:a,"aria-labelledby":j,"aria-busy":!!c,"aria-activedescendant":d&&d.domId,id:D,onFocus:z?void 0:Se,onBlur:z?void 0:Ie,ref:y},e):null)))}ge.Option=Zn;ge.TextOption=jt;ge.Loading=La;ge.Section=Ba;ge.Header=Ra;ge.Action=Wa;const Za=r.memo(function({label:n,value:s,disabled:a,media:i,selected:l,singleSelection:u}){const c=F(rt.Media,a&&rt.disabledMedia,u&&rt.singleSelectionMedia),o=i?t.createElement("div",{className:c},i):null,d=typeof n=="string"?n:void 0;return t.createElement(ge.Option,{accessibilityLabel:d,key:s,selected:l,value:s,disabled:a},t.createElement(ge.TextOption,{selected:l,disabled:a},t.createElement("div",{className:rt.Content},o,n)))});var Ha={Listbox:"Polaris-Combobox__Listbox"};function Va({value:e,id:n,type:s="text",ariaAutocomplete:a="list",onFocus:i,onBlur:l,onChange:u,...c}){const o=Aa(),{activeOptionId:d,listboxId:p,expanded:m,setTextFieldFocused:h,setTextFieldLabelId:v,onTextFieldFocus:b,onTextFieldChange:T,onTextFieldBlur:g}=o,x=r.useId(),k=r.useMemo(()=>n||x,[x,n]),D=r.useMemo(()=>ra(n||x),[x,n]);r.useEffect(()=>{v&&v(D)},[D,v]);const N=r.useCallback(j=>{i&&i(j),b&&b(),h&&h(!0)},[i,b,h]),y=r.useCallback(j=>{l&&l(j),g&&g(),h&&h(!1)},[l,g,h]),S=r.useCallback((j,O)=>{u&&u(j,O),T&&T(j)},[u,T]);return t.createElement(xe,Object.assign({},c,{value:e,id:k,type:s,ariaAutocomplete:a,"aria-haspopup":"listbox",ariaActiveDescendant:d,ariaControls:p,role:"combobox",ariaExpanded:m,onFocus:N,onBlur:y,onChange:S}))}function _t({activator:e,allowMultiple:n,children:s,preferredPosition:a="below",willLoadMoreOptions:i,height:l,onScrolledToBottom:u,onClose:c}){const[o,d]=r.useState(!1),[p,m]=r.useState(),[h,v]=r.useState(),[b,T]=r.useState(),[g,x]=r.useState(!1),k=!o,D=o&&r.Children.count(s)>0,N=r.useRef(null),y=r.useCallback(()=>{d(!1),c?.(),m(void 0)},[c]),S=r.useCallback(()=>{d(!0),m(void 0)},[]),j=r.useCallback(()=>{if(!n){y(),m(void 0);return}N.current?.forceUpdatePosition()},[n,y]),O=r.useCallback(()=>{k&&S()},[k,S]),H=r.useCallback(()=>{k&&S()},[k,S]),$=r.useCallback(()=>{o&&y()},[o,y]),W=r.useMemo(()=>({activeOptionId:p,expanded:o,listboxId:b,setTextFieldFocused:x,setTextFieldLabelId:v,onTextFieldFocus:O,onTextFieldChange:H,onTextFieldBlur:$}),[p,o,b,x,v,O,H,$]),V=r.useMemo(()=>({allowMultiple:n}),[n]),X=r.useMemo(()=>({listboxId:b,textFieldLabelId:h,textFieldFocused:g,willLoadMoreOptions:i,onOptionSelected:j,setActiveOptionId:m,setListboxId:T,onKeyToBottom:u}),[b,h,g,i,j,m,T,u]);return t.createElement(ct,{ref:N,active:D,activator:t.createElement(Dn.Provider,{value:W},e),autofocusTarget:"none",preventFocusOnClose:!0,fullWidth:!0,preferInputActivator:!1,preferredPosition:a,onClose:y},r.Children.count(s)>0?t.createElement(ct.Pane,{onScrolledToBottom:u,height:l},t.createElement(Fn.Provider,{value:X},t.createElement(Ln.Provider,{value:V},t.createElement("div",{className:Ha.Listbox},s)))):null)}_t.TextField=Va;var ye={ActionContainer:"Polaris-Autocomplete-MappedAction__ActionContainer",Action:"Polaris-Autocomplete-MappedAction__Action",destructive:"Polaris-Autocomplete-MappedAction--destructive",selected:"Polaris-Autocomplete-MappedAction--selected",disabled:"Polaris-Autocomplete-MappedAction--disabled",Prefix:"Polaris-Autocomplete-MappedAction__Prefix",Suffix:"Polaris-Autocomplete-MappedAction__Suffix",Content:"Polaris-Autocomplete-MappedAction__Content",Text:"Polaris-Autocomplete-MappedAction__Text"};function za({active:e,content:n,disabled:s,icon:a,image:i,prefix:l,suffix:u,ellipsis:c,role:o,url:d,external:p,onAction:m,destructive:h,badge:v,helpText:b,wrapOverflow:T=!1}){const g=Ce();let x=null;l?x=t.createElement("div",{className:ye.Prefix},l):a?x=t.createElement("div",{className:ye.Prefix},t.createElement(ve,{source:a})):i&&(x=t.createElement("div",{role:"presentation",className:ye.Prefix,style:{backgroundImage:`url(${i}`}}));const k=v&&t.createElement("span",{className:ye.Suffix},t.createElement(Mt,{tone:v.tone},v.content)),D=u&&t.createElement("span",{className:ye.Suffix},u),N=c&&n?g.translate("Polaris.Autocomplete.ellipsis",{content:n}):n,y=t.createElement("div",{className:ye.Text},t.createElement(R,{as:"p",variant:"bodyMd",breakWord:T},N),b?t.createElement(R,{as:"p",variant:"bodyMd",tone:"subdued"},b):null),S=r.useMemo(()=>({role:o,url:d,external:p,onAction:m,destructive:h}),[o,d,p,m,h]),j=F(ye.Action,s&&ye.disabled,h&&ye.destructive,e&&ye.selected);return t.createElement(Un.Provider,{value:S},t.createElement("div",{className:ye.ActionContainer},t.createElement(ge.Action,{selected:e,disabled:s,value:n||""},t.createElement("div",{className:j},t.createElement("div",{className:ye.Content},x,y,k,D)))))}const yt=function({options:n,selected:s,textField:a,preferredPosition:i,listTitle:l,allowMultiple:u,loading:c,actionBefore:o,willLoadMoreResults:d,emptyState:p,onSelect:m,onLoadMoreResults:h}){const v=Ce(),b=r.useCallback(y=>y.map(S=>t.createElement(Za,Object.assign({key:S.id||S.value},S,{selected:s.includes(S.value),singleSelection:!u}))),[s,u]),T=r.useMemo(()=>{const y=c&&!d?[]:n;if(Sa(y)){if(y.every(({options:H})=>H.length===0))return null;const O=y.map(({options:H,title:$})=>{if(H.length===0)return null;const W=b(H);return t.createElement(ge.Section,{divider:!1,title:t.createElement(ge.Header,null,$),key:$},W)});return t.createElement("div",{className:wa.SectionWrapper},O)}const S=y.length>0?b(y):null;return l?t.createElement(ge.Section,{divider:!1,title:t.createElement(ge.Header,null,l)},S):S},[l,c,n,d,b]),g=c?t.createElement(ge.Loading,{accessibilityLabel:v.translate("Polaris.Autocomplete.spinnerAccessibilityLabel")}):null,x=r.useCallback(y=>{if(o&&y===o.content){o.onAction&&o.onAction();return}u?s.includes(y)?m(s.filter(S=>S!==y)):m([...s,y]):m([y])},[u,m,s,o]),k=o&&t.createElement(za,o),D=p&&n.length<1&&!c&&t.createElement("div",{role:"status"},p),N=o?Ue.First:void 0;return t.createElement(_t,{activator:a,allowMultiple:u,onScrolledToBottom:h,preferredPosition:i,willLoadMoreOptions:d},k||T||g||D?t.createElement(ge,{autoSelection:N,onSelect:x},k,T&&(!c||d)?T:null,g,D):null)};yt.TextField=_t.TextField;var gt={Backdrop:"Polaris-Backdrop",transparent:"Polaris-Backdrop--transparent",belowNavigation:"Polaris-Backdrop--belowNavigation"};function Ka(){const e=r.useContext(xa);if(!e)throw new vn("No ScrollLockManager was provided.");return e}function Ga(e){const n=Ka();return r.useEffect(()=>(n.registerScrollLock(),()=>{n.unregisterScrollLock()}),[n]),null}function qa(e){const{onClick:n,onTouchStart:s,belowNavigation:a,transparent:i,setClosing:l}=e,u=F(gt.Backdrop,a&&gt.belowNavigation,i&&gt.transparent),c=()=>{l&&l(!0)},o=()=>{l&&l(!1),n&&n()};return t.createElement(t.Fragment,null,t.createElement(Ga,null),t.createElement("div",{className:u,onClick:o,onTouchStart:s,onMouseDown:c}))}const Xa=r.createContext(!1);var Ze={Banner:"Polaris-Banner",keyFocused:"Polaris-Banner--keyFocused",withinContentContainer:"Polaris-Banner--withinContentContainer",withinPage:"Polaris-Banner--withinPage",DismissIcon:"Polaris-Banner__DismissIcon","text-success-on-bg-fill":"Polaris-Banner--textSuccessOnBgFill","text-success":"Polaris-Banner__text--success","text-warning-on-bg-fill":"Polaris-Banner--textWarningOnBgFill","text-warning":"Polaris-Banner__text--warning","text-critical-on-bg-fill":"Polaris-Banner--textCriticalOnBgFill","text-critical":"Polaris-Banner__text--critical","text-info-on-bg-fill":"Polaris-Banner--textInfoOnBgFill","text-info":"Polaris-Banner__text--info","icon-secondary":"Polaris-Banner__icon--secondary"};const vt={success:{withinPage:{background:"bg-fill-success",text:"text-success-on-bg-fill",icon:"text-success-on-bg-fill"},withinContentContainer:{background:"bg-surface-success",text:"text-success",icon:"text-success"},icon:Nt},warning:{withinPage:{background:"bg-fill-warning",text:"text-warning-on-bg-fill",icon:"text-warning-on-bg-fill"},withinContentContainer:{background:"bg-surface-warning",text:"text-warning",icon:"text-warning"},icon:Sn},critical:{withinPage:{background:"bg-fill-critical",text:"text-critical-on-bg-fill",icon:"text-critical-on-bg-fill"},withinContentContainer:{background:"bg-surface-critical",text:"text-critical",icon:"text-critical"},icon:Pn},info:{withinPage:{background:"bg-fill-info",text:"text-info-on-bg-fill",icon:"text-info-on-bg-fill"},withinContentContainer:{background:"bg-surface-info",text:"text-info",icon:"text-info"},icon:Ot}};function Ja(e){const n=r.useRef(null),[s,a]=r.useState(!1);return r.useImperativeHandle(e,()=>({focus:()=>{n.current?.focus(),a(!0)}}),[]),{wrapperRef:n,handleKeyUp:c=>{c.target===n.current&&a(!0)},handleBlur:()=>a(!1),handleMouseUp:c=>{c.currentTarget.blur(),a(!1)},shouldShowFocus:s}}const Re=r.forwardRef(function(n,s){const{tone:a,stopAnnouncements:i}=n,l=r.useContext(At),{wrapperRef:u,handleKeyUp:c,handleBlur:o,handleMouseUp:d,shouldShowFocus:p}=Ja(s),m=F(Ze.Banner,p&&Ze.keyFocused,l?Ze.withinContentContainer:Ze.withinPage);return t.createElement(Xa.Provider,{value:!0},t.createElement("div",{className:m,tabIndex:0,ref:u,role:a==="warning"||a==="critical"?"alert":"status","aria-live":i?"off":"polite",onMouseUp:d,onKeyUp:c,onBlur:o},t.createElement(Ya,n)))});function Ya({tone:e="info",icon:n,hideIcon:s,onDismiss:a,action:i,secondaryAction:l,title:u,children:c}){const o=Ce(),d=r.useContext(At),p=!u&&!d,m=Object.keys(vt).includes(e)?e:"info",h=vt[m][d?"withinContentContainer":"withinPage"],v={backgroundColor:h.background,textColor:h.text,bannerTitle:u?t.createElement(R,{as:"h2",variant:"headingSm",breakWord:!0},u):null,bannerIcon:s?null:t.createElement("span",{className:Ze[h.icon]},t.createElement(ve,{source:n??vt[m].icon})),actionButtons:i||l?t.createElement(oa,null,i&&t.createElement(pe,Object.assign({onClick:i.onAction},i),i.content),l&&t.createElement(pe,Object.assign({onClick:l.onAction},l),l.content)):null,dismissButton:a?t.createElement(pe,{variant:"tertiary",icon:t.createElement("span",{className:Ze[p?"icon-secondary":h.icon]},t.createElement(ve,{source:Ft})),onClick:a,accessibilityLabel:o.translate("Polaris.Banner.dismissButton")}):null},b=c?t.createElement(R,{as:"span",variant:"bodyMd"},c):null;return d?t.createElement(ts,v,b):p?t.createElement(es,v,b):t.createElement(Qa,v,b)}function Qa({backgroundColor:e,textColor:n,bannerTitle:s,bannerIcon:a,actionButtons:i,dismissButton:l,children:u}){const{smUp:c}=kn(),o=u||i;return t.createElement(oe,{width:"100%"},t.createElement(se,{align:"space-between"},t.createElement(oe,{background:e,color:n,borderStartStartRadius:c?"300":void 0,borderStartEndRadius:c?"300":void 0,borderEndStartRadius:!o&&c?"300":void 0,borderEndEndRadius:!o&&c?"300":void 0,padding:"300"},t.createElement(J,{align:"space-between",blockAlign:"center",gap:"200",wrap:!1},t.createElement(J,{gap:"100",wrap:!1},a,s),l)),o&&t.createElement(oe,{padding:{xs:"300",md:"400"},paddingBlockStart:"300"},t.createElement(se,{gap:"200"},t.createElement("div",null,u),i))))}function es({backgroundColor:e,bannerIcon:n,actionButtons:s,dismissButton:a,children:i}){const[l,u]=r.useState("center"),c=r.useRef(null),o=r.useRef(null),d=r.useRef(null),p=r.useCallback(()=>{const m=c.current?.offsetHeight,h=o.current?.offsetHeight||d.current?.offsetHeight;!m||!h||(m>h?u("start"):u("center"))},[]);return r.useEffect(()=>p(),[p]),je("resize",p),t.createElement(oe,{width:"100%",padding:"300",borderRadius:"300"},t.createElement(J,{align:"space-between",blockAlign:l,wrap:!1},t.createElement(oe,{width:"100%"},t.createElement(J,{gap:"200",wrap:!1,blockAlign:l},n?t.createElement("div",{ref:o},t.createElement(oe,{background:e,borderRadius:"200",padding:"100"},n)):null,t.createElement(oe,{ref:c,width:"100%"},t.createElement(se,{gap:"200"},t.createElement("div",null,i),s)))),t.createElement("div",{ref:d,className:Ze.DismissIcon},a)))}function ts({backgroundColor:e,textColor:n,bannerTitle:s,bannerIcon:a,actionButtons:i,dismissButton:l,children:u}){return t.createElement(oe,{width:"100%",background:e,padding:"200",borderRadius:"200",color:n},t.createElement(J,{align:"space-between",blockAlign:"start",wrap:!1,gap:"200"},t.createElement(J,{gap:"150",wrap:!1},a,t.createElement(oe,{width:"100%"},t.createElement(se,{gap:"200"},t.createElement(se,{gap:"050"},s,t.createElement("div",null,u)),i))),l))}var ns={InlineGrid:"Polaris-InlineGrid"};function as({children:e,columns:n,gap:s,alignItems:a}){const i={...mn("inline-grid","grid-template-columns",ss(n)),...Je("inline-grid","gap","space",s),"--pc-inline-grid-align-items":a};return t.createElement("div",{className:ns.InlineGrid,style:hn(i)},e)}function ss(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).map(([n,s])=>[n,Jt(s)])):Jt(e)}function Jt(e){if(e)return typeof e=="number"||!isNaN(Number(e))?`repeat(${Number(e)}, minmax(0, 1fr))`:typeof e=="string"?e:e.map(n=>{switch(n){case"oneThird":return"minmax(0, 1fr)";case"oneHalf":return"minmax(0, 1fr)";case"twoThirds":return"minmax(0, 2fr)"}}).join(" ")}const rs=r.createContext(void 0);var os={Divider:"Polaris-Divider"};const ot=({borderColor:e="border-secondary",borderWidth:n="025"})=>{const s=e==="transparent"?e:`var(--p-color-${e})`;return t.createElement("hr",{className:os.Divider,style:{borderBlockStart:`var(--p-border-width-${n}) solid ${s}`}})};function Hn(e=""){const n=e.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)}const is=["dragover","dragenter","drop"];function ls(e,n){return e.type==="application/x-moz-file"||cs(e,n)}function Yt(e){if(us(e)&&e.dataTransfer){const n=e.dataTransfer;if(n.files&&n.files.length)return Array.from(n.files);if(n.items&&n.items.length)return Array.from(n.items)}else if(ds(e)&&e.target.files)return Array.from(e.target.files);return[]}function cs(e,n){if(e&&n){const s=e.name||"",a=e.type||"",i=a.replace(/\/.*$/,"");return(Array.isArray(n)?n:n.split(",")).some(u=>{const c=u.trim();return c.startsWith(".")?s.toLowerCase().endsWith(c.toLowerCase()):c.endsWith("/*")?i===c.replace(/\/.*$/,""):a===c})}return!0}function us(e){return is.indexOf(e.type)>0}function ds(e){return Object.prototype.hasOwnProperty.call(e,"target")}const Vn=!0;function zn(e){return e?"allowMultiple":"single"}const Kn=r.createContext({disabled:!1,focused:!1,size:"extraLarge",type:"file",measuring:!1,allowMultiple:Vn});var ke={DropZone:"Polaris-DropZone",focused:"Polaris-DropZone--focused",noOutline:"Polaris-DropZone--noOutline",hasOutline:"Polaris-DropZone--hasOutline",isDisabled:"Polaris-DropZone--isDisabled",isDragging:"Polaris-DropZone--isDragging",sizeLarge:"Polaris-DropZone--sizeLarge",sizeMedium:"Polaris-DropZone--sizeMedium",sizeSmall:"Polaris-DropZone--sizeSmall",measuring:"Polaris-DropZone--measuring",Container:"Polaris-DropZone__Container",Overlay:"Polaris-DropZone__Overlay",hasError:"Polaris-DropZone--hasError"},ze={FileUpload:"Polaris-DropZone-FileUpload",large:"Polaris-DropZone-FileUpload--large",small:"Polaris-DropZone-FileUpload--small",UploadIcon:"Polaris-DropZone-FileUpload__UploadIcon",disabled:"Polaris-DropZone-FileUpload--disabled"};function ps(e){const n=Ce(),{size:s,measuring:a,type:i,disabled:l,allowMultiple:u}=r.useContext(Kn),c=Hn(i),o=zn(u),{actionTitle:d=n.translate(`Polaris.DropZone.${o}.actionTitle${c}`),actionHint:p}=e,m=t.createElement(pe,{disabled:l},d),h=F(ze.FileUpload,a&&ze.measuring,s==="large"&&ze.large,s==="small"&&ze.small),v=p&&t.createElement(R,{variant:"bodySm",as:"p",tone:"subdued"},p);let b;switch(s){case"large":case"medium":b=t.createElement(se,{inlineAlign:"center",gap:"200"},m,v);break;case"small":b=t.createElement("div",{className:F(ze.UploadIcon,l&&ze.disabled)},t.createElement(ve,{source:Dt}));break}return t.createElement("div",{className:h},b)}const kt=function({dropOnPage:n,label:s,labelAction:a,labelHidden:i,children:l,disabled:u=!1,outline:c=!0,accept:o,active:d,overlay:p=!0,allowMultiple:m=Vn,overlayText:h,errorOverlayText:v,id:b,type:T="file",onClick:g,error:x,openFileDialog:k,variableHeight:D,onFileDialogClose:N,customValidator:y,onDrop:S,onDropAccepted:j,onDropRejected:O,onDragEnter:H,onDragOver:$,onDragLeave:W}){const V=r.useRef(null),X=r.useRef(null),z=r.useRef([]),ee=r.useCallback(yn(()=>{if(!V.current)return;if(D){w(!1);return}let I="large";const Z=V.current.getBoundingClientRect().width;Z<100?I="small":Z<160&&(I="medium"),Te(I),E&&w(!1)},50,{trailing:!0}),[]),[G,te]=r.useState(!1),[ie,le]=r.useState(!1),{value:U,setTrue:Y,setFalse:ce}=gn(!1),[re,Te]=r.useState("large"),[E,w]=r.useState(!0),A=Ce(),K=r.useCallback(I=>{const Z=[],ae=[];return Array.from(I).forEach(fe=>{!ls(fe,o)||y&&!y(fe)?ae.push(fe):Z.push(fe)}),m||(Z.splice(1,Z.length),ae.push(...Z.slice(1))),{files:I,acceptedFiles:Z,rejectedFiles:ae}},[o,m,y]),ue=r.useCallback(I=>{if(it(I),u)return;const Z=Yt(I),{files:ae,acceptedFiles:fe,rejectedFiles:_e}=K(Z);z.current=[],te(!1),le(_e.length>0),S&&S(ae,fe,_e),j&&fe.length&&j(fe),O&&_e.length&&O(_e),I.target&&"value"in I.target&&(I.target.value="")},[u,K,S,j,O]),Se=r.useCallback(I=>{if(it(I),u)return;const Z=Yt(I);if(I.target&&!z.current.includes(I.target)&&z.current.push(I.target),G)return;const{rejectedFiles:ae}=K(Z);te(!0),le(ae.length>0),H&&H()},[u,G,K,H]),Ie=r.useCallback(I=>{it(I),!u&&$&&$()},[u,$]),Fe=r.useCallback(I=>{I.preventDefault(),!u&&(z.current=z.current.filter(Z=>{const ae=n&&!mt?document:V.current;return Z!==I.target&&ae&&ae.contains(Z)}),!(z.current.length>0)&&(te(!1),le(!1),W&&W()))},[n,u,W]),Ee=n&&!mt?document:V.current;je("drop",ue,Ee),je("dragover",Ie,Ee),je("dragenter",Se,Ee),je("dragleave",Fe,Ee),je("resize",ee,mt?null:window),En(()=>{ee()});const P=r.useId(),L=b??P,Q=Hn(T),q=zn(m),ne=h===void 0?A.translate(`Polaris.DropZone.${q}.overlayText${Q}`):h,_=v===void 0?A.translate(`Polaris.DropZone.errorOverlayText${Q}`):v,de=s||A.translate(`Polaris.DropZone.${q}.label${Q}`),he=s?i:!0,Ne=F(ke.DropZone,c&&ke.hasOutline,!c&&ke.noOutline,U&&ke.focused,(d||G)&&ke.isDragging,u&&ke.isDisabled,(ie||x)&&ke.hasError,!D&&ke[et("size",re)],E&&ke.measuring),be=(d||G)&&!ie&&!x&&p&&C(Dt,ne),Oe=G&&(ie||x)&&C(la,_,"critical"),ft=r.useMemo(()=>({disabled:u,focused:U,size:re,type:T||"file",measuring:E,allowMultiple:m}),[u,U,E,re,T,m]),Ve=r.useCallback(()=>{X.current&&X.current.click()},[X]),tt=r.useCallback(()=>{Ve(),N?.()},[Ve,N]);function C(I,Z,ae){return t.createElement("div",{className:ke.Overlay},t.createElement(se,{gap:"200",inlineAlign:"center"},re==="small"&&t.createElement(ve,{source:I,tone:ae}),(re==="medium"||re==="large")&&t.createElement(R,{variant:"bodySm",as:"p",fontWeight:"bold"},Z)))}function M(I){if(!u)return g?g(I):Ve()}return r.useEffect(()=>{k&&tt()},[k,tt]),t.createElement(Kn.Provider,{value:ft},t.createElement(ia,{id:L,label:de,action:a,labelHidden:he},t.createElement("div",{ref:V,className:Ne,"aria-disabled":u,onClick:M,onDragStart:it},be,Oe,t.createElement(R,{variant:"bodySm",as:"span",visuallyHidden:!0},t.createElement("input",{id:L,accept:o,disabled:u,multiple:m,onChange:ue,onFocus:Y,onBlur:ce,type:"file",ref:X,autoComplete:"off"})),t.createElement("div",{className:ke.Container},l))))};function it(e){e.preventDefault(),e.stopPropagation()}kt.FileUpload=ps;const fs=r.memo(function({children:n,disabled:s,root:a}){return r.useEffect(()=>{if(s||!a)return;const i=ms(a)?a.current:a;!i||i.querySelector("[autofocus]")||Me(i,!1)},[s,a]),t.createElement(t.Fragment,null,n)});function ms(e){return e.current!==void 0}function Bt({acceptCharset:e,action:n,autoComplete:s,children:a,encType:i,implicitSubmit:l=!0,method:u="post",name:c,noValidate:o,preventDefault:d=!0,target:p,onSubmit:m}){const h=Ce(),v=r.useCallback(g=>{d&&(g.preventDefault(),m(g))},[m,d]),b=hs(s),T=l?t.createElement(R,{as:"span",visuallyHidden:!0},t.createElement("button",{type:"submit","aria-hidden":"true",tabIndex:-1},h.translate("Polaris.Common.submit"))):null;return t.createElement("form",{acceptCharset:e,action:n,autoComplete:b,encType:i,method:u,name:c,noValidate:o,target:p,onSubmit:v},T,a)}function hs(e){return e==null?e:e?"on":"off"}function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ut.apply(null,arguments)}function Rt(e,n){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(n.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Pt(e,n){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Pt(e,n)}function Wt(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Pt(e,n)}function bs(e,n){return e.classList?!!n&&e.classList.contains(n):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")!==-1}function gs(e,n){e.classList?e.classList.add(n):bs(e,n)||(typeof e.className=="string"?e.className=e.className+" "+n:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+n))}function Qt(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function vs(e,n){e.classList?e.classList.remove(n):typeof e.className=="string"?e.className=Qt(e.className,n):e.setAttribute("class",Qt(e.className&&e.className.baseVal||"",n))}const en={disabled:!1},dt=t.createContext(null);var Gn=function(n){return n.scrollTop},Ye="unmounted",We="exited",$e="entering",Ge="entered",St="exiting",Ae=function(e){Wt(n,e);function n(a,i){var l;l=e.call(this,a,i)||this;var u=i,c=u&&!u.isMounting?a.enter:a.appear,o;return l.appearStatus=null,a.in?c?(o=We,l.appearStatus=$e):o=Ge:a.unmountOnExit||a.mountOnEnter?o=Ye:o=We,l.state={status:o},l.nextCallback=null,l}n.getDerivedStateFromProps=function(i,l){var u=i.in;return u&&l.status===Ye?{status:We}:null};var s=n.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(i){var l=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==$e&&u!==Ge&&(l=$e):(u===$e||u===Ge)&&(l=St)}this.updateStatus(!1,l)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var i=this.props.timeout,l,u,c;return l=u=c=i,i!=null&&typeof i!="number"&&(l=i.exit,u=i.enter,c=i.appear!==void 0?i.appear:u),{exit:l,enter:u,appear:c}},s.updateStatus=function(i,l){if(i===void 0&&(i=!1),l!==null)if(this.cancelNextCallback(),l===$e){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:at.findDOMNode(this);u&&Gn(u)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===We&&this.setState({status:Ye})},s.performEnter=function(i){var l=this,u=this.props.enter,c=this.context?this.context.isMounting:i,o=this.props.nodeRef?[c]:[at.findDOMNode(this),c],d=o[0],p=o[1],m=this.getTimeouts(),h=c?m.appear:m.enter;if(!i&&!u||en.disabled){this.safeSetState({status:Ge},function(){l.props.onEntered(d)});return}this.props.onEnter(d,p),this.safeSetState({status:$e},function(){l.props.onEntering(d,p),l.onTransitionEnd(h,function(){l.safeSetState({status:Ge},function(){l.props.onEntered(d,p)})})})},s.performExit=function(){var i=this,l=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:at.findDOMNode(this);if(!l||en.disabled){this.safeSetState({status:We},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:St},function(){i.props.onExiting(c),i.onTransitionEnd(u.exit,function(){i.safeSetState({status:We},function(){i.props.onExited(c)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(i,l){l=this.setNextCallback(l),this.setState(i,l)},s.setNextCallback=function(i){var l=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,l.nextCallback=null,i(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},s.onTransitionEnd=function(i,l){this.setNextCallback(l);var u=this.props.nodeRef?this.props.nodeRef.current:at.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=o[0],p=o[1];this.props.addEndListener(d,p)}i!=null&&setTimeout(this.nextCallback,i)},s.render=function(){var i=this.state.status;if(i===Ye)return null;var l=this.props,u=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var c=Rt(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return t.createElement(dt.Provider,{value:null},typeof u=="function"?u(i,c):t.cloneElement(t.Children.only(u),c))},n}(t.Component);Ae.contextType=dt;Ae.propTypes={};function Ke(){}Ae.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ke,onEntering:Ke,onEntered:Ke,onExit:Ke,onExiting:Ke,onExited:Ke};Ae.UNMOUNTED=Ye;Ae.EXITED=We;Ae.ENTERING=$e;Ae.ENTERED=Ge;Ae.EXITING=St;var Es=function(n,s){return n&&s&&s.split(" ").forEach(function(a){return gs(n,a)})},Et=function(n,s){return n&&s&&s.split(" ").forEach(function(a){return vs(n,a)})},$t=function(e){Wt(n,e);function n(){for(var a,i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return a=e.call.apply(e,[this].concat(l))||this,a.appliedClasses={appear:{},enter:{},exit:{}},a.onEnter=function(c,o){var d=a.resolveArguments(c,o),p=d[0],m=d[1];a.removeClasses(p,"exit"),a.addClass(p,m?"appear":"enter","base"),a.props.onEnter&&a.props.onEnter(c,o)},a.onEntering=function(c,o){var d=a.resolveArguments(c,o),p=d[0],m=d[1],h=m?"appear":"enter";a.addClass(p,h,"active"),a.props.onEntering&&a.props.onEntering(c,o)},a.onEntered=function(c,o){var d=a.resolveArguments(c,o),p=d[0],m=d[1],h=m?"appear":"enter";a.removeClasses(p,h),a.addClass(p,h,"done"),a.props.onEntered&&a.props.onEntered(c,o)},a.onExit=function(c){var o=a.resolveArguments(c),d=o[0];a.removeClasses(d,"appear"),a.removeClasses(d,"enter"),a.addClass(d,"exit","base"),a.props.onExit&&a.props.onExit(c)},a.onExiting=function(c){var o=a.resolveArguments(c),d=o[0];a.addClass(d,"exit","active"),a.props.onExiting&&a.props.onExiting(c)},a.onExited=function(c){var o=a.resolveArguments(c),d=o[0];a.removeClasses(d,"exit"),a.addClass(d,"exit","done"),a.props.onExited&&a.props.onExited(c)},a.resolveArguments=function(c,o){return a.props.nodeRef?[a.props.nodeRef.current,c]:[c,o]},a.getClassNames=function(c){var o=a.props.classNames,d=typeof o=="string",p=d&&o?o+"-":"",m=d?""+p+c:o[c],h=d?m+"-active":o[c+"Active"],v=d?m+"-done":o[c+"Done"];return{baseClassName:m,activeClassName:h,doneClassName:v}},a}var s=n.prototype;return s.addClass=function(i,l,u){var c=this.getClassNames(l)[u+"ClassName"],o=this.getClassNames("enter"),d=o.doneClassName;l==="appear"&&u==="done"&&d&&(c+=" "+d),u==="active"&&i&&Gn(i),c&&(this.appliedClasses[l][u]=c,Es(i,c))},s.removeClasses=function(i,l){var u=this.appliedClasses[l],c=u.base,o=u.active,d=u.done;this.appliedClasses[l]={},c&&Et(i,c),o&&Et(i,o),d&&Et(i,d)},s.render=function(){var i=this.props;i.classNames;var l=Rt(i,["classNames"]);return t.createElement(Ae,ut({},l,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(t.Component);$t.defaultProps={classNames:""};$t.propTypes={};function xs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e,n){var s=function(l){return n&&r.isValidElement(l)?n(l):l},a=Object.create(null);return e&&r.Children.map(e,function(i){return i}).forEach(function(i){a[i.key]=s(i)}),a}function Cs(e,n){e=e||{},n=n||{};function s(p){return p in n?n[p]:e[p]}var a=Object.create(null),i=[];for(var l in e)l in n?i.length&&(a[l]=i,i=[]):i.push(l);var u,c={};for(var o in n){if(a[o])for(u=0;u<a[o].length;u++){var d=a[o][u];c[a[o][u]]=s(d)}c[o]=s(o)}for(u=0;u<i.length;u++)c[i[u]]=s(i[u]);return c}function He(e,n,s){return s[n]!=null?s[n]:e.props[n]}function Ts(e,n){return Ut(e.children,function(s){return r.cloneElement(s,{onExited:n.bind(null,s),in:!0,appear:He(s,"appear",e),enter:He(s,"enter",e),exit:He(s,"exit",e)})})}function ys(e,n,s){var a=Ut(e.children),i=Cs(n,a);return Object.keys(i).forEach(function(l){var u=i[l];if(r.isValidElement(u)){var c=l in n,o=l in a,d=n[l],p=r.isValidElement(d)&&!d.props.in;o&&(!c||p)?i[l]=r.cloneElement(u,{onExited:s.bind(null,u),in:!0,exit:He(u,"exit",e),enter:He(u,"enter",e)}):!o&&c&&!p?i[l]=r.cloneElement(u,{in:!1}):o&&c&&r.isValidElement(d)&&(i[l]=r.cloneElement(u,{onExited:s.bind(null,u),in:d.props.in,exit:He(u,"exit",e),enter:He(u,"enter",e)}))}}),i}var ks=Object.values||function(e){return Object.keys(e).map(function(n){return e[n]})},Ps={component:"div",childFactory:function(n){return n}},Zt=function(e){Wt(n,e);function n(a,i){var l;l=e.call(this,a,i)||this;var u=l.handleExited.bind(xs(l));return l.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},l}var s=n.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(i,l){var u=l.children,c=l.handleExited,o=l.firstRender;return{children:o?Ts(i,c):ys(i,u,c),firstRender:!1}},s.handleExited=function(i,l){var u=Ut(this.props.children);i.key in u||(i.props.onExited&&i.props.onExited(l),this.mounted&&this.setState(function(c){var o=ut({},c.children);return delete o[i.key],{children:o}}))},s.render=function(){var i=this.props,l=i.component,u=i.childFactory,c=Rt(i,["component","childFactory"]),o=this.state.contextValue,d=ks(this.state.children).map(u);return delete c.appear,delete c.enter,delete c.exit,l===null?t.createElement(dt.Provider,{value:o},d):t.createElement(dt.Provider,{value:o},t.createElement(l,c,d))},n}(t.Component);Zt.propTypes={};Zt.defaultProps=Ps;var xt={Body:"Polaris-Modal__Body",NoScrollBody:"Polaris-Modal__NoScrollBody",IFrame:"Polaris-Modal__IFrame"},tn={Section:"Polaris-Modal-Section",titleHidden:"Polaris-Modal-Section--titleHidden"};function qn({children:e,flush:n=!1,subdued:s=!1,titleHidden:a=!1}){const i=F(tn.Section,a&&tn.titleHidden);return t.createElement("div",{className:i},t.createElement(oe,Object.assign({as:"section",padding:n?"0":"400"},a&&{paddingInlineEnd:"0"},s&&{background:"bg-surface-tertiary"}),e))}var me={Container:"Polaris-Modal-Dialog__Container",Dialog:"Polaris-Modal-Dialog",Modal:"Polaris-Modal-Dialog__Modal",limitHeight:"Polaris-Modal-Dialog--limitHeight",sizeSmall:"Polaris-Modal-Dialog--sizeSmall",sizeLarge:"Polaris-Modal-Dialog--sizeLarge",sizeFullScreen:"Polaris-Modal-Dialog--sizeFullScreen",animateFadeUp:"Polaris-Modal-Dialog--animateFadeUp",entering:"Polaris-Modal-Dialog--entering",exiting:"Polaris-Modal-Dialog--exiting",exited:"Polaris-Modal-Dialog--exited",entered:"Polaris-Modal-Dialog--entered"};function Ss({trapping:e}){const n=r.useContext(Ca),s=r.useId();if(!n)throw new vn("No FocusManager was provided.");const{trapFocusList:a,add:i,remove:l}=n,u=a[0]===s,c=r.useMemo(()=>({canSafelyFocus:u}),[u]);return r.useEffect(()=>{if(e)return i(s),()=>{l(s)}},[i,s,l,e]),c}function ws({trapping:e=!0,children:n}){const{canSafelyFocus:s}=Ss({trapping:e}),a=r.useRef(null),[i,l]=r.useState(!0);r.useEffect(()=>{const o=s&&!(a.current&&a.current.contains(document.activeElement))?!e:!0;l(o)},[s,e]);const u=o=>{const d=a.current&&a.current.contains(document.activeElement);e===!1||!a.current||d||o.target instanceof Element&&o.target.matches(`${ya.selector} *`)||s&&o.target instanceof HTMLElement&&a.current!==o.target&&!a.current.contains(o.target)&&Me(a.current)},c=o=>{if(e===!1||!a.current)return;const d=ca(a.current),p=ua(a.current);o.target===p&&!o.shiftKey&&(o.preventDefault(),da(a.current)),o.target===d&&o.shiftKey&&(o.preventDefault(),pa(a.current))};return t.createElement(fs,{disabled:i,root:a.current},t.createElement("div",{ref:a},t.createElement(Ta,{event:"focusin",handler:u}),t.createElement(qe,{keyCode:Xe.Tab,keyEvent:"keydown",handler:c}),n))}function Ms({instant:e,labelledBy:n,children:s,limitHeight:a,size:i,onClose:l,onExited:u,onEntered:c,setClosing:o,hasToasts:d,...p}){const m=ka(),h=r.useRef(null),v=r.useContext(rs);let b;v&&(b=v.toastMessages);const T=F(me.Modal,i&&me[et("size",i)],a&&me.limitHeight),g=e?Ae:Is;r.useEffect(()=>{h.current&&!h.current.contains(document.activeElement)&&Me(h.current)},[]);const x=()=>{o&&o(!0)},k=()=>{o&&o(!1),l()},D=t.createElement("div",{"aria-live":"assertive"},b?b.map(N=>t.createElement(R,{visuallyHidden:!0,as:"p",key:N.id},N.content)):null);return t.createElement(g,Object.assign({},p,{nodeRef:h,mountOnEnter:!0,unmountOnExit:!0,timeout:parseInt(m.motion["motion-duration-200"],10),onEntered:c,onExited:u}),t.createElement("div",{className:me.Container,"data-polaris-layer":!0,"data-polaris-overlay":!0,ref:h},t.createElement(ws,null,t.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":n,"aria-labelledby":n,tabIndex:-1,className:me.Dialog},t.createElement("div",{className:T},t.createElement(qe,{keyCode:Xe.Escape,keyEvent:"keydown",handler:x}),t.createElement(qe,{keyCode:Xe.Escape,handler:k}),s),D))))}const As={appear:F(me.animateFadeUp,me.entering),appearActive:F(me.animateFadeUp,me.entered),enter:F(me.animateFadeUp,me.entering),enterActive:F(me.animateFadeUp,me.entered),exit:F(me.animateFadeUp,me.exiting),exitActive:F(me.animateFadeUp,me.exited)};function Is({children:e,...n}){return t.createElement($t,Object.assign({},n,{classNames:As}),e)}function nn({pressed:e,onClick:n}){const s=Ce();return t.createElement(pe,{variant:"tertiary",pressed:e,icon:Ft,onClick:n,accessibilityLabel:s.translate("Polaris.Common.close")})}function Ns({id:e,children:n,closing:s,titleHidden:a,onClose:i}){const l="400",u="400";return a||!n?t.createElement(oe,{position:"absolute",insetInlineEnd:l,insetBlockStart:u,zIndex:"1"},t.createElement(nn,{onClick:i})):t.createElement(oe,{paddingBlockStart:"400",paddingBlockEnd:"400",paddingInlineStart:l,paddingInlineEnd:l,borderBlockEndWidth:"025",borderColor:"border",background:"bg-surface-tertiary"},t.createElement(as,{columns:{xs:"1fr auto"},gap:"400"},t.createElement(J,{gap:"400",blockAlign:"center"},t.createElement(R,{id:e,as:"h2",variant:"headingMd",breakWord:!0},n)),t.createElement(nn,{pressed:s,onClick:i})))}function Os({primaryAction:e,secondaryActions:n,children:s}){const a=e&&Vt(e,{variant:"primary"})||null,i=n&&Vt(n)||null,l=a||i?t.createElement(J,{gap:"200"},i,a):null;return t.createElement(J,{gap:"400",blockAlign:"center"},t.createElement(oe,{borderColor:"border",borderBlockStartWidth:"025",padding:"400",width:"100%"},t.createElement(J,{gap:"400",blockAlign:"center",align:"space-between"},t.createElement(oe,null,s),l)))}const an=200,Ds=400,Pe=function({children:n,title:s,titleHidden:a=!1,src:i,iFrameName:l,open:u,instant:c,sectioned:o,loading:d,size:p,limitHeight:m,footer:h,primaryAction:v,secondaryActions:b,onScrolledToBottom:T,activator:g,activatorWrapper:x="div",onClose:k,onIFrameLoad:D,onTransitionEnd:N,noScroll:y}){const[S,j]=r.useState(an),[O,H]=r.useState(!1),$=r.useId(),W=r.useRef(null),X=Ce().translate("Polaris.Modal.iFrameTitle");let z,ee;const G=r.useCallback(()=>{N&&N()},[N]),te=r.useCallback(()=>{j(an);const Y=g&&sn(g)?g&&g.current:W.current;Y&&requestAnimationFrame(()=>Me(Y))},[g]),ie=r.useCallback(Y=>{const ce=Y.target;if(ce&&ce.contentWindow)try{j(ce.contentWindow.document.body.scrollHeight)}catch{j(Ds)}D?.(Y)},[D]);if(u){const Y=!h&&!v&&!b?null:t.createElement(Os,{primaryAction:v,secondaryActions:b},h),ce=o?fa(n,qn,{titleHidden:a}):n,re=d?t.createElement(oe,{padding:"400"},t.createElement(J,{gap:"400",align:"center",blockAlign:"center"},t.createElement(bn,null))):ce,Te=y?t.createElement("div",{className:xt.NoScrollBody},t.createElement(oe,{width:"100%",overflowX:"hidden",overflowY:"hidden"},re)):t.createElement(ha,{shadow:!0,className:xt.Body,onScrolledToBottom:T},re),E=i?t.createElement("iframe",{name:l,title:X,src:i,className:xt.IFrame,onLoad:ie,style:{height:`${S}px`}}):Te;z=t.createElement(Ms,{instant:c,labelledBy:$,onClose:k,onEntered:G,onExited:te,size:p,limitHeight:m,setClosing:H},t.createElement(Ns,{titleHidden:a,id:$,closing:O,onClose:k},s),E,Y),ee=t.createElement(qa,{setClosing:H,onClick:k})}const le=!c,U=g&&!sn(g)?t.createElement(oe,{ref:W,as:x},g):null;return t.createElement(At.Provider,{value:!0},U,t.createElement(ma,{idPrefix:"modal"},t.createElement(Zt,{appear:le,enter:le,exit:le},z),ee))};function sn(e){return Object.prototype.hasOwnProperty.call(e,"current")}Pe.Section=qn;function Fs(){const[e,n]=r.useState(!1),s=r.useCallback(()=>n(!0),[]);return je("touchstart",s),e}function rn(e){const n=r.useRef();return r.useEffect(()=>{n.current=e},[e]),n.current}function on(e,n,s,a,i){const l=a.reduce((d,p)=>d+p,0),u=e.map((d,p)=>p),c=[],o=[];if(i>l)c.push(...u);else{c.push(n);let d=a[n];u.forEach(p=>{if(p!==n){const m=a[p];if(d+m>=i-s){o.push(p);return}c.push(p),d+=m}})}return{visibleTabs:c,hiddenTabs:o}}var B={Outer:"Polaris-Tabs__Outer",Wrapper:"Polaris-Tabs__Wrapper",WrapperWithNewButton:"Polaris-Tabs__WrapperWithNewButton",ButtonWrapper:"Polaris-Tabs__ButtonWrapper",Tabs:"Polaris-Tabs",Tab:"Polaris-Tabs__Tab","Tab-active":"Polaris-Tabs__Tab--active","Tab-hasActions":"Polaris-Tabs__Tab--hasActions","Tab-iconOnly":"Polaris-Tabs__Tab--iconOnly",fillSpace:"Polaris-Tabs--fillSpace",TabContainer:"Polaris-Tabs__TabContainer",fitted:"Polaris-Tabs--fitted",List:"Polaris-Tabs__List",Item:"Polaris-Tabs__Item",DisclosureTab:"Polaris-Tabs__DisclosureTab","DisclosureTab-visible":"Polaris-Tabs__DisclosureTab--visible",DisclosureActivator:"Polaris-Tabs__DisclosureActivator",TabsMeasurer:"Polaris-Tabs__TabsMeasurer",NewTab:"Polaris-Tabs__NewTab",ActionListWrap:"Polaris-Tabs__ActionListWrap",Panel:"Polaris-Tabs__Panel","Panel-hidden":"Polaris-Tabs__Panel--hidden"};const Ct=40;function Ls({open:e,isModalLoading:n,name:s,onClose:a,onClickPrimaryAction:i,onClickSecondaryAction:l,helpText:u,viewNames:c}){const o=Ce(),[d,p]=r.useState(s),m=r.useRef(null),h=c?.some(x=>x.trim().toLowerCase()===d.trim().toLowerCase()),v=n||h||!d||d.length>Ct;r.useEffect(()=>{m.current&&e&&Me(m.current)},[e]),r.useEffect(()=>{e&&p(s.slice(0,Ct))},[s,e]);const b=r.useCallback(x=>{p(x)},[]);async function T(){v||(await i(d),p(""),a())}function g(){l?.(),p(s),a()}return t.createElement(Pe,{open:e,onClose:a,title:o.translate("Polaris.Tabs.DuplicateModal.title"),primaryAction:{content:o.translate("Polaris.Tabs.DuplicateModal.create"),onAction:T,disabled:v},secondaryActions:[{content:o.translate("Polaris.Tabs.DuplicateModal.cancel"),onAction:g}],instant:!0},t.createElement(Pe.Section,null,t.createElement(Bt,{onSubmit:T},t.createElement(It,null,t.createElement("div",{ref:m},t.createElement(xe,{label:o.translate("Polaris.Tabs.DuplicateModal.label"),value:d,onChange:b,autoComplete:"off",helpText:u,maxLength:Ct,showCharacterCount:!0,error:h?o.translate("Polaris.Tabs.DuplicateModal.errors.sameName",{name:d}):void 0}))))))}function js({open:e,isModalLoading:n,name:s,onClose:a,onClickPrimaryAction:i,onClickSecondaryAction:l,helpText:u,viewNames:c}){const o=Ce(),[d,p]=r.useState(s),m=r.useRef(null),h=c?.filter(x=>x!==s).some(x=>x.trim().toLowerCase()===d.trim().toLowerCase()),v=n||h||d===s||!d;r.useEffect(()=>{m.current&&e&&Me(m.current)},[e]),r.useEffect(()=>{e&&p(s)},[s,e]);const b=r.useCallback(x=>{p(x)},[]);async function T(){v||(await i(d),p(""),a())}function g(){l?.(),p(s),a()}return t.createElement(Pe,{open:e,onClose:a,title:o.translate("Polaris.Tabs.RenameModal.title"),primaryAction:{content:o.translate("Polaris.Tabs.RenameModal.create"),onAction:T,disabled:v},secondaryActions:[{content:o.translate("Polaris.Tabs.RenameModal.cancel"),onAction:g}],instant:!0},t.createElement(Pe.Section,null,t.createElement(Bt,{onSubmit:T},t.createElement(It,null,t.createElement("div",{ref:m},t.createElement(xe,{label:o.translate("Polaris.Tabs.RenameModal.label"),value:d,onChange:b,autoComplete:"off",helpText:u,maxLength:40,showCharacterCount:!0,error:h?o.translate("Polaris.Tabs.RenameModal.errors.sameName",{name:d}):void 0}))))))}const pt=r.forwardRef(({content:e,accessibilityLabel:n,badge:s,id:a,panelID:i,url:l,onAction:u,actions:c,disabled:o,isModalLoading:d,icon:p,siblingTabHasFocus:m,measuring:h,focused:v,selected:b,onToggleModal:T,onTogglePopover:g,viewNames:x,tabIndexOverride:k,onFocus:D},N)=>{const y=Ce(),[S,j]=r.useState(!1),[O,H]=r.useState(null),$=r.useRef(b),W=r.useRef(!1),V=r.useRef(null);r.useEffect(()=>{g(S)},[S,g]),r.useEffect(()=>{T(!!O)},[O,T]),r.useEffect(()=>()=>{T(!1),g(!1)},[T,g]),r.useEffect(()=>{if(h)return;(v||document.activeElement&&document.activeElement.id===a)&&b&&i!=null&&!W.current&&(ln(i),W.current=!0),b&&!$.current&&i!=null?ln(i):v&&V.current!=null&&O==null&&!o&&Me(V.current),$.current=b},[v,a,e,h,i,b,O,o]);let X;b&&!m&&!h||v&&!h?X=0:X=-1,k!=null&&(X=k);const z=c?.find(_=>_.type==="rename"),ee=c?.find(_=>_.type==="duplicate"),G=c?.find(_=>_.type==="delete"),te=r.useCallback(()=>{c?.length&&j(_=>!_)},[c]),ie=r.useCallback(()=>{o||(b?te():u?.())},[b,u,te,o]),le=_=>{H(_)},U=()=>{H(null)},Y=r.useCallback(async _=>{await z?.onPrimaryAction?.(_),setTimeout(()=>{V.current&&Me(V.current)},250)},[z]),ce=r.useCallback(async()=>{await G?.onPrimaryAction?.(e),U()},[G,e]),re=r.useCallback(async _=>{await ee?.onPrimaryAction?.(_)},[ee]),Te={rename:{icon:Ot,content:y.translate("Polaris.Tabs.Tab.rename")},duplicate:{icon:Mn,content:y.translate("Polaris.Tabs.Tab.duplicate")},edit:{icon:An,content:y.translate("Polaris.Tabs.Tab.edit")},"edit-columns":{icon:In,content:y.translate("Polaris.Tabs.Tab.editColumns")},delete:{icon:wn,content:y.translate("Polaris.Tabs.Tab.delete"),destructive:!0}},E=c?.map(({type:_,onAction:de,onPrimaryAction:he,...Ne})=>{const be=!_.includes("edit");return{...Te[_],...Ne,onAction:()=>{de?.(e),te(),be&&le(_)}}}),w=r.useCallback(_=>{_.key===" "&&(_.preventDefault(),ie())},[ie]),A=F(B.TabContainer,b&&B.Underline),K=o||b?void 0:l,ue=K?wt:Cn,Se=F(B.Tab,p&&B["Tab-iconOnly"],S&&B["Tab-popoverActive"],b&&B["Tab-active"],b&&c?.length&&B["Tab-hasActions"]),Ie=s?t.createElement(Mt,{tone:b?void 0:"new"},s):null,Fe=b&&c?.length?t.createElement("div",{className:F(B.IconWrap)},t.createElement(ve,{source:xn})):null,Ee=t.createElement(ue,{id:a,className:Se,tabIndex:X,"aria-selected":b,"aria-controls":i,"aria-label":n,role:k==null?"tab":void 0,disabled:o,url:K,onFocus:D,onMouseUp:ga,onClick:ie,onKeyDown:w},t.createElement(J,{gap:"200",align:"center",blockAlign:"center",wrap:!1},t.createElement(R,{as:"span",variant:"bodySm",fontWeight:"medium"},p??e),Ie),Fe),P=!b||!c?.length,L=z?t.createElement(js,{name:e,open:O==="rename",onClose:U,onClickPrimaryAction:Y,isModalLoading:d,viewNames:x}):null,Q=ee?t.createElement(Ls,{open:O==="duplicate",name:y.translate("Polaris.Tabs.Tab.copy",{name:e}),onClose:U,onClickPrimaryAction:re,isModalLoading:d,viewNames:x||[]}):null,q=G?t.createElement(Pe,{open:O==="delete",onClose:U,primaryAction:{content:y.translate("Polaris.Tabs.Tab.deleteModal.delete"),onAction:ce,destructive:!0,disabled:d},secondaryActions:[{content:y.translate("Polaris.Tabs.Tab.deleteModal.cancel"),onAction:U}],title:y.translate("Polaris.Tabs.Tab.deleteModal.title"),instant:!0},t.createElement(Pe.Section,null,y.translate("Polaris.Tabs.Tab.deleteModal.description",{viewName:e}))):null,ne=P||o?Ee:t.createElement(t.Fragment,null,t.createElement(ct,{active:S,activator:Ee,autofocusTarget:"first-node",onClose:te},t.createElement("div",{className:B.ActionListWrap},t.createElement(ba,{actionRole:"menuitem",items:E}))),L,Q,q);return p?ne:t.createElement("li",{className:A,ref:_s([V,N]),role:"presentation"},ne)});pt.displayName="Tab";function ln(e){const n=document.getElementById(e);n&&n.focus({preventScroll:!0})}function _s(e){return n=>{for(const s of e)s!=null&&(s.current=n)}}const Bs=r.memo(function({selected:n,tabs:s,activator:a,tabToFocus:i,siblingTabHasFocus:l,handleMeasurement:u}){const c=r.useRef(null),o=r.useRef(null),d=r.useCallback(()=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(!c.current)return;const h=c.current.offsetWidth-20-28,v=c.current.children,T=Array.from(v).map(x=>Math.ceil(x.getBoundingClientRect().width)+4),g=T.pop()||0;u({containerWidth:h,disclosureWidth:g,hiddenTabWidths:T})})},[u]);r.useEffect(()=>{d()},[d,s]),En(()=>{});const p=s.map((h,v)=>t.createElement(pt,{measuring:!0,key:`$${h.id}Hidden`,id:`${h.id}Measurer`,siblingTabHasFocus:l,focused:v===i,selected:v===n,url:h.url,content:h.content,onTogglePopover:cn,onToggleModal:cn})),m=F(B.Tabs,B.TabsMeasurer);return je("resize",d),t.createElement("div",{className:m,ref:c},p,a)});function cn(){}function un({hidden:e,id:n,tabID:s,children:a}){const i=F(B.Panel,e&&B["Panel-hidden"]);return t.createElement("div",{className:i,id:n,role:"tabpanel","aria-labelledby":s,tabIndex:-1},a)}const Rs=r.memo(function({id:n,focused:s,children:a,url:i,accessibilityLabel:l,onClick:u=Ws}){const c=r.useRef(null);r.useEffect(()=>{c.current&&c.current instanceof HTMLElement&&s&&c.current.focus()},[c,s]);const o=F(B.Item),d={id:n,ref:c,onClick:u,className:o,"aria-selected":!1,"aria-label":l},p=i?t.createElement(wt,Object.assign({},d,{url:i}),a):t.createElement("button",Object.assign({},d,{ref:c,type:"button"}),a);return t.createElement("li",null,p)});function Ws(){}function $s({focusIndex:e,disclosureTabs:n,onClick:s=dn,onKeyPress:a=dn}){const i=n.map(({id:l,content:u,...c},o)=>t.createElement(Rs,Object.assign({key:l},c,{id:l,focused:o===e,onClick:s.bind(null,l)}),u));return t.createElement("ul",{className:B.List,onKeyDown:Us,onKeyUp:a},i)}function dn(){}function Us(e){const{key:n}=e;(n==="ArrowLeft"||n==="ArrowRight")&&(e.preventDefault(),e.stopPropagation())}const pn=40;function Zs({activator:e,open:n,onClose:s,onClickPrimaryAction:a,onClickSecondaryAction:i,viewNames:l}){const u=Ce(),[c,o]=r.useState(""),[d,p]=r.useState(!1),m=r.useRef(null),h=Fs(),v=l.some(k=>k.trim().toLowerCase()===c.trim().toLowerCase()),b=!c||v||d||c.length>pn;r.useEffect(()=>{if(!(!m.current||h)&&n){Me(m.current);const k=setTimeout(()=>{m.current&&Me(m.current)},50);return()=>clearTimeout(k)}},[n,h]);const T=r.useCallback(k=>{o(k)},[]);async function g(){v||b||(p(!0),await a(c),p(!1),o(""),s())}function x(){i?.(),o(""),s()}return t.createElement(Pe,{activator:e,open:n,onClose:s,title:u.translate("Polaris.Tabs.CreateViewModal.title"),primaryAction:{content:u.translate("Polaris.Tabs.CreateViewModal.create"),onAction:g,disabled:b},secondaryActions:[{content:u.translate("Polaris.Tabs.CreateViewModal.cancel"),onAction:x}]},t.createElement(Pe.Section,null,t.createElement(Bt,{onSubmit:g},t.createElement(It,null,t.createElement("div",{ref:m},t.createElement(xe,{label:u.translate("Polaris.Tabs.CreateViewModal.label"),value:c,onChange:T,autoComplete:"off",maxLength:pn,showCharacterCount:!0,error:v?u.translate("Polaris.Tabs.CreateViewModal.errors.sameName",{name:c}):void 0}))))))}const Hs="create-new-view",Vs=({tabs:e,children:n,selected:s,newViewAccessibilityLabel:a,canCreateNewView:i,disabled:l,onCreateNewView:u,onSelect:c,fitted:o,disclosureText:d})=>{const p=Ce(),{mdDown:m}=kn(),h=r.useRef(null),v=r.useRef(null),b=r.useRef(null),[T,g]=r.useReducer((C,M)=>({...C,...M}),{disclosureWidth:0,containerWidth:1/0,tabWidths:[],visibleTabs:[],hiddenTabs:[],showDisclosure:!1,tabToFocus:-1,isNewViewModalActive:!1,modalSubmitted:!1,isTabsFocused:!1,isTabPopoverOpen:!1,isTabModalOpen:!1}),{tabToFocus:x,visibleTabs:k,hiddenTabs:D,showDisclosure:N,isNewViewModalActive:y,modalSubmitted:S,disclosureWidth:j,tabWidths:O,containerWidth:H,isTabsFocused:$,isTabModalOpen:W,isTabPopoverOpen:V}=T,X=rn(W),z=rn(V);r.useEffect(()=>{X&&!W?g({isTabsFocused:!0,tabToFocus:s}):z&&!V&&!W&&g({isTabsFocused:!0,tabToFocus:s})},[z,V,X,W,s,x]);const ee=r.useCallback(C=>g({isTabPopoverOpen:C}),[]),G=r.useCallback(C=>g({isTabModalOpen:C}),[]),te=()=>{g({isNewViewModalActive:!1})},ie=async C=>{if(!u)return!1;const M=await u?.(C);return M&&g({modalSubmitted:!0}),M},le=()=>{g({isNewViewModalActive:!0})},U=r.useCallback(C=>{const M=e.find(Z=>Z.id===C);if(M==null)return null;const I=e.indexOf(M);c?.(I)},[e,c]),Y=r.useCallback((C,M)=>{const I=()=>{U(C.id),C.onAction?.()},Z=e.map(({content:fe})=>fe),ae=C.panelID||`${C.id}-panel`;return t.createElement(pt,Object.assign({},C,{key:`${M}-${C.id}`,id:C.id,panelID:n?ae:void 0,disabled:l||C.disabled,siblingTabHasFocus:x>-1,focused:M===x,selected:M===s,onAction:I,accessibilityLabel:C.accessibilityLabel,url:C.url,content:C.content,onToggleModal:G,onTogglePopover:ee,viewNames:Z,ref:M===s?b:null}))},[l,U,e,n,s,x,G,ee]),ce=r.useCallback(C=>{const M=C.target,I=M.classList.contains(B.Item),Z=M.closest("[data-tabs-focus-catchment]")||I;M.classList.contains(B.DisclosureActivator)||!Z||g({isTabsFocused:!0})},[]),re=r.useCallback(C=>{const M=C.target,I=C.relatedTarget,Z=I?.closest?.(`.${B.Tabs}`),ae=M?.classList?.contains?.(B.Tab),fe=I?.classList.contains(B.Item);if(!I&&!W&&!ae&&!fe){g({tabToFocus:-1});return}if(!Z&&!W&&!ae&&!fe){g({tabToFocus:-1});return}g({isTabsFocused:!1})},[W]),Te=C=>{if(V||W||y)return;const{key:M}=C;(M==="ArrowLeft"||M==="ArrowRight")&&(C.preventDefault(),C.stopPropagation())};r.useEffect(()=>{const{visibleTabs:C,hiddenTabs:M}=on(e,s,j,O,H);g({visibleTabs:C,hiddenTabs:M})},[H,j,e,s,O,g]);const E=r.useCallback(()=>{const C=b.current?.querySelector(`.${B["Tab-active"]}`);C&&Ie(C.offsetLeft)},[]);r.useEffect(()=>{m&&E()},[E,s,m]),r.useEffect(()=>{$&&!N&&g({tabToFocus:s})},[$,s,g,N]);const w=C=>{const{showDisclosure:M,visibleTabs:I,hiddenTabs:Z,tabToFocus:ae,isNewViewModalActive:fe}=T;if(W||V||fe)return;const _e=C.key,nt=M||m?I.concat(Z):[...I];let Le=nt.indexOf(ae);_e==="ArrowRight"&&(Le+=1,Le===nt.length&&(Le=0)),_e==="ArrowLeft"&&(Le===-1||Le===0?Le=nt.length-1:Le-=1);const Ht=nt[Le];Ht!=null&&g({tabToFocus:Ht})},A=()=>{g({showDisclosure:!N,tabToFocus:D[0]})},K=()=>{g({showDisclosure:!1})},ue=r.useCallback(C=>{const{hiddenTabWidths:M,containerWidth:I,disclosureWidth:Z}=C,{visibleTabs:ae,hiddenTabs:fe}=on(e,s,Z,M,I);g({visibleTabs:ae,hiddenTabs:fe,disclosureWidth:Z,containerWidth:I,tabWidths:M})},[e,s,g]),Se=C=>{U(C),K(),g({isTabsFocused:!0})},Ie=C=>{setTimeout(()=>{if(h.current&&typeof h.current.scroll=="function"){const M=v?.current?.offsetLeft||0;h?.current?.scroll({left:C-M})}},0)},Fe=a||p.translate("Polaris.Tabs.newViewAccessibilityLabel"),Ee=m?[...k,...D]:k,P=Ee.sort((C,M)=>C-M).filter(C=>e[C]).map(C=>Y(e[C],C)),L=k.length<e.length&&!m,Q=F(B.Tabs,o&&B.fitted,L&&B.fillSpace),q=F(B.Wrapper,i&&B.WrapperWithNewButton),ne=F(B.DisclosureTab,L&&B["DisclosureTab-visible"]),_=F(B.DisclosureActivator),de=t.createElement(t.Fragment,null,t.createElement(R,{as:"span",variant:"bodySm",fontWeight:"medium"},d??p.translate("Polaris.Tabs.toggleTabsLabel")),t.createElement("div",{className:F(B.IconWrap,L&&N&&B["IconWrap-open"])},t.createElement(ve,{source:xn,tone:"subdued"}))),Ne=t.createElement(Cn,{type:"button",className:_,onClick:A,"aria-label":d??p.translate("Polaris.Tabs.toggleTabsLabel"),disabled:l},de),be=D.map(C=>e[C]),Oe=e.map(({content:C})=>C),ft=t.createElement(Bs,{tabToFocus:x,activator:Ne,selected:s,tabs:e,siblingTabHasFocus:x>-1,handleMeasurement:ue}),Ve=t.createElement(pt,{id:Hs,content:Fe,actions:[],onAction:le,onFocus:()=>{S&&g({tabToFocus:s,modalSubmitted:!1})},icon:t.createElement(ve,{source:On,accessibilityLabel:Fe}),disabled:l,onTogglePopover:ee,onToggleModal:G,tabIndexOverride:0}),tt=n?e.map((C,M)=>s===M?t.createElement(un,{id:e[M].panelID||`${e[M].id}-panel`,tabID:e[M].id,key:e[M].id},n):t.createElement(un,{id:e[M].panelID||`${e[M].id}-panel`,tabID:e[M].id,key:e[M].id,hidden:!0})):null;return t.createElement("div",{className:B.Outer},t.createElement(oe,{padding:{md:"200"}},ft,t.createElement("div",{className:q,ref:h},t.createElement("div",{className:B.ButtonWrapper,ref:v},t.createElement("ul",{role:P.length>0?"tablist":void 0,className:Q,onFocus:ce,onBlur:re,onKeyDown:Te,onKeyUp:w,"data-tabs-focus-catchment":!0},P,m||Ee.length===0?null:t.createElement("li",{className:ne,role:"presentation"},t.createElement(ct,{preferredPosition:"below",preferredAlignment:"left",activator:Ne,active:L&&N,onClose:K,autofocusTarget:"first-node"},t.createElement($s,{focusIndex:D.indexOf(x),disclosureTabs:be,onClick:Se,onKeyPress:w})))),i&&Ee.length>0?t.createElement("div",{className:B.NewTab},t.createElement(Zs,{open:y,onClose:te,onClickPrimaryAction:ie,viewNames:Oe,activator:l?Ve:t.createElement("div",null,t.createElement(va,{content:p.translate("Polaris.Tabs.newViewTooltip"),preferredPosition:"above",hoverDelay:400},Ve))})):null))),tt)};var Tt={Thumbnail:"Polaris-Thumbnail",sizeExtraSmall:"Polaris-Thumbnail--sizeExtraSmall",sizeSmall:"Polaris-Thumbnail--sizeSmall",sizeMedium:"Polaris-Thumbnail--sizeMedium",sizeLarge:"Polaris-Thumbnail--sizeLarge",transparent:"Polaris-Thumbnail--transparent"};function fn({source:e,alt:n,size:s="medium",transparent:a}){const i=F(Tt.Thumbnail,s&&Tt[et("size",s)],a&&Tt.transparent),l=typeof e=="string"?t.createElement(Pa,{alt:n,source:e}):t.createElement(ve,{accessibilityLabel:n,source:e});return t.createElement("span",{className:i},l)}var Xn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M15.78 5.97a.75.75 0 0 1 0 1.06l-6.5 6.5a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 1 1 1.06-1.06l2.72 2.72 5.97-5.97a.75.75 0 0 1 1.06 0Z"}))};Xn.displayName="CheckIcon";var Qe=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M11.5 8.25a.75.75 0 0 1 .75.75v4.25a.75.75 0 0 1-1.5 0v-4.25a.75.75 0 0 1 .75-.75Z"}),t.createElement("path",{d:"M9.25 9a.75.75 0 0 0-1.5 0v4.25a.75.75 0 0 0 1.5 0v-4.25Z"}),t.createElement("path",{fillRule:"evenodd",d:"M7.25 5.25a2.75 2.75 0 0 1 5.5 0h3a.75.75 0 0 1 0 1.5h-.75v5.45c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327h-.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311c-.327-.642-.327-1.482-.327-3.162v-5.45h-.75a.75.75 0 0 1 0-1.5h3Zm1.5 0a1.25 1.25 0 1 1 2.5 0h-2.5Zm-2.25 1.5h7v5.45c0 .865-.001 1.423-.036 1.848-.033.408-.09.559-.128.633a1.5 1.5 0 0 1-.655.655c-.074.038-.225.095-.633.128-.425.035-.983.036-1.848.036h-.4c-.865 0-1.423-.001-1.848-.036-.408-.033-.559-.09-.633-.128a1.5 1.5 0 0 1-.656-.655c-.037-.074-.094-.225-.127-.633-.035-.425-.036-.983-.036-1.848v-5.45Z"}))};Qe.displayName="DeleteIcon";var Jn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M10.75 4.25a.75.75 0 0 0-1.5 0v6.69l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72v-6.69Z"}),t.createElement("path",{d:"M16.5 13.75a.75.75 0 0 0-1.5 0v.8a.75.75 0 0 1-.75.75h-8.5a.75.75 0 0 1-.75-.75v-.8a.75.75 0 0 0-1.5 0v.8a2.25 2.25 0 0 0 2.25 2.25h8.5a2.25 2.25 0 0 0 2.25-2.25v-.8Z"}))};Jn.displayName="ImportIcon";var Yn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M15.842 4.175a3.746 3.746 0 0 0-5.298 0l-2.116 2.117a3.75 3.75 0 0 0 .01 5.313l.338.336a.75.75 0 1 0 1.057-1.064l-.339-.337a2.25 2.25 0 0 1-.005-3.187l2.116-2.117a2.246 2.246 0 1 1 3.173 3.18l-1.052 1.047a.75.75 0 0 0 1.058 1.064l1.052-1.047a3.746 3.746 0 0 0 .006-5.305Zm-11.664 11.67a3.75 3.75 0 0 0 5.304 0l2.121-2.121a3.75 3.75 0 0 0 0-5.303l-.362-.362a.75.75 0 0 0-1.06 1.06l.362.362a2.25 2.25 0 0 1 0 3.182l-2.122 2.122a2.25 2.25 0 1 1-3.182-3.182l1.07-1.07a.75.75 0 1 0-1.062-1.06l-1.069 1.069a3.75 3.75 0 0 0 0 5.303Z"}))};Yn.displayName="LinkIcon";var lt=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};lt.displayName="PlusIcon";var Qn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M12.323 13.383a5.5 5.5 0 1 1 1.06-1.06l2.897 2.897a.75.75 0 1 1-1.06 1.06l-2.897-2.897Zm.677-4.383a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"}))};Qn.displayName="SearchIcon";function qs(){const{products:e}=ea(),n=ta();r.useRef(null);const[s,a]=r.useState(null),[i,l]=r.useState(""),[u,c]=r.useState(""),[o,d]=r.useState(null),[p,m]=r.useState(!1),[h,v]=r.useState(0),[b,T]=r.useState(""),[g,x]=r.useState(null),[k,D]=r.useState(null),N=n.state==="submitting"&&(n.formData?.get("intent")==="extract"||n.formData?.get("intent")==="extract-pdf"||n.formData?.get("intent")==="extract-url"),y=n.state==="submitting"&&n.formData?.get("intent")==="save",S=n.data;r.useEffect(()=>{S?.extracted&&(d(S.extracted),S.source&&D(S.source))},[S]);const j=r.useCallback((E,w)=>{w.length>0&&x(w[0])},[]),O=()=>{if(!g)return;const E=new FormData;E.append("intent","extract-pdf"),E.append("pdf",g),n.submit(E,{method:"post",encType:"multipart/form-data"})},H=()=>{if(!b.trim())return;const E=new FormData;E.append("intent","extract-url"),E.append("url",b.trim()),n.submit(E,{method:"post"})},$=[{id:"text",content:" Paste Text"},{id:"pdf",content:" Upload PDF"},{id:"url",content:" Scrape URL"}],W=e.map(E=>({value:E.id,label:E.title,media:E.featuredImage?.url?f.jsx(fn,{source:E.featuredImage.url,alt:E.featuredImage.altText||E.title,size:"small"}):void 0})),V=r.useCallback(E=>{const w=e.find(A=>A.id===E[0]);w&&(a(w),l(w.title))},[e]),X=(E,w)=>{if(!o)return;const A=[...o.highlights];A[E]=w,d({...o,highlights:A})},z=E=>{o&&d({...o,highlights:o.highlights.filter((w,A)=>A!==E)})},ee=()=>{o&&d({...o,highlights:[...o.highlights,""]})},G=(E,w,A)=>{if(!o)return;const K=[...o.featured];K[E]={...K[E],[w]:A},d({...o,featured:K})},te=E=>{o&&d({...o,featured:o.featured.filter((w,A)=>A!==E)})},ie=()=>{o&&d({...o,featured:[...o.featured,{title:"",value:""}]})},le=(E,w,A)=>{if(!o)return;const K=[...o.included];K[E]={...K[E],[w]:A},d({...o,included:K})},U=E=>{o&&d({...o,included:o.included.filter((w,A)=>A!==E)})},Y=()=>{o&&d({...o,included:[...o.included,{title:"",link:""}]})},ce=(E,w,A,K)=>{if(!o)return;const ue=[...o.specs];ue[E]={...ue[E],lines:ue[E].lines.map((Se,Ie)=>Ie===w?{...Se,[A]:K}:Se)},d({...o,specs:ue})},re=(E,w)=>{if(!o)return;const A=[...o.specs];A[E]={...A[E],lines:A[E].lines.filter((K,ue)=>ue!==w)},d({...o,specs:A})},Te=()=>{if(!s||!o)return;const E=new FormData;E.append("intent","save"),E.append("productId",s.id),E.append("content",JSON.stringify(o)),n.submit(E,{method:"post"})};return f.jsx(Tn,{title:"Product Bridge",subtitle:"AI-powered product content automation",children:f.jsxs(se,{gap:"400",children:[S?.success&&f.jsx(Re,{title:"Metafields saved successfully!",tone:"success",onDismiss:()=>{}}),S?.error&&f.jsx(Re,{title:"Error",tone:"critical",children:S.error}),f.jsx(st,{children:f.jsxs(se,{gap:"400",children:[f.jsx(R,{as:"h2",variant:"headingMd",children:"Step 1: Select Product"}),f.jsx(yt,{options:W,selected:s?[s.id]:[],onSelect:V,textField:f.jsx(yt.TextField,{onChange:l,label:"Search products",value:i,prefix:f.jsx(ve,{source:Qn}),placeholder:"Start typing to search...",autoComplete:"off"})}),s&&f.jsxs(J,{gap:"400",align:"start",blockAlign:"center",children:[s.featuredImage?.url&&f.jsx(fn,{source:s.featuredImage.url,alt:s.title,size:"medium"}),f.jsxs(se,{gap:"100",children:[f.jsx(R,{as:"p",variant:"bodyMd",fontWeight:"semibold",children:s.title}),f.jsxs(R,{as:"p",variant:"bodySm",tone:"subdued",children:["ID: ",s.id.replace("gid://shopify/Product/","")]})]}),f.jsx(Mt,{tone:"info",children:"Selected"})]})]})}),f.jsx(st,{children:f.jsxs(se,{gap:"400",children:[f.jsx(R,{as:"h2",variant:"headingMd",children:"Step 2: Import Product Specs"}),f.jsx(Vs,{tabs:$,selected:h,onSelect:v}),h===0&&f.jsxs(se,{gap:"400",children:[f.jsx(xe,{label:"Raw specs from manufacturer",multiline:8,value:u,onChange:c,placeholder:"Paste the full specification sheet from the manufacturer website...",autoComplete:"off"}),f.jsxs(n.Form,{method:"post",children:[f.jsx("input",{type:"hidden",name:"intent",value:"extract"}),f.jsx("input",{type:"hidden",name:"text",value:u}),f.jsx(pe,{variant:"primary",submit:!0,loading:N,disabled:!u.trim(),children:"Extract Content with AI"})]})]}),h===1&&f.jsxs(se,{gap:"400",children:[f.jsx(kt,{onDrop:j,accept:".pdf,application/pdf",type:"file",allowMultiple:!1,children:g?f.jsxs(se,{gap:"200",inlineAlign:"center",children:[f.jsx(ve,{source:Jn,tone:"success"}),f.jsx(R,{as:"p",variant:"bodyMd",fontWeight:"semibold",children:g.name}),f.jsxs(R,{as:"p",variant:"bodySm",tone:"subdued",children:[(g.size/1024/1024).toFixed(2)," MB"]}),f.jsx(pe,{variant:"plain",onClick:()=>x(null),children:"Remove"})]}):f.jsx(kt.FileUpload,{actionTitle:"Upload PDF",actionHint:"or drag and drop"})}),f.jsx(J,{gap:"200",children:f.jsx(pe,{variant:"primary",onClick:O,loading:N&&n.formData?.get("intent")==="extract-pdf",disabled:!g,children:"Extract Content from PDF"})}),f.jsx(Re,{tone:"info",children:f.jsx(R,{as:"p",variant:"bodySm",children:"Upload manufacturer spec sheets or product brochures. Works best with text-based PDFs. Image-only PDFs may not extract correctly."})})]}),h===2&&f.jsxs(se,{gap:"400",children:[f.jsx(xe,{label:"Manufacturer product page URL",value:b,onChange:T,placeholder:"https://www.usa.canon.com/shop/p/eos-r5-mark-ii",autoComplete:"off",prefix:f.jsx(ve,{source:Yn})}),f.jsx(pe,{variant:"primary",onClick:H,loading:N&&n.formData?.get("intent")==="extract-url",disabled:!b.trim(),children:"Scrape & Extract Content"}),f.jsx(Re,{tone:"info",children:f.jsx(R,{as:"p",variant:"bodySm",children:"Supported manufacturers: Canon, Sony, Nikon, Fujifilm, Panasonic, Leica, Sigma, Tamron, DJI, GoPro, and more. Works best with product specification pages."})})]}),k&&o&&f.jsx(Re,{tone:"success",children:f.jsxs(se,{gap:"100",children:[f.jsx(R,{as:"p",variant:"bodySm",fontWeight:"semibold",children:"Content extracted successfully!"}),k.type==="pdf"&&f.jsxs(R,{as:"p",variant:"bodySm",children:["Source: ",k.filename," (",k.pages," pages)"]}),k.type==="url"&&f.jsxs(R,{as:"p",variant:"bodySm",children:["Source: ",k.title||k.url,k.manufacturer&&` (${k.manufacturer})`]})]})})]})}),o&&f.jsx(st,{children:f.jsxs(se,{gap:"500",children:[f.jsxs(J,{align:"space-between",children:[f.jsx(R,{as:"h2",variant:"headingMd",children:"Step 3: Review & Edit Content"}),f.jsx(pe,{variant:"tertiary",onClick:()=>m(!0),children:"Preview JSON"})]}),f.jsxs(se,{gap:"300",children:[f.jsxs(J,{align:"space-between",children:[f.jsxs(R,{as:"h3",variant:"headingSm",children:["Highlights (",o.highlights.length,")"]}),f.jsx(pe,{variant:"plain",onClick:ee,icon:lt,children:"Add"})]}),o.highlights.map((E,w)=>f.jsxs(J,{gap:"200",align:"start",blockAlign:"center",children:[f.jsx("div",{style:{flex:1},children:f.jsx(xe,{label:"",labelHidden:!0,value:E,onChange:A=>X(w,A),autoComplete:"off"})}),f.jsx(pe,{variant:"plain",tone:"critical",onClick:()=>z(w),icon:Qe})]},w))]}),f.jsx(ot,{}),f.jsxs(se,{gap:"300",children:[f.jsxs(J,{align:"space-between",children:[f.jsxs(R,{as:"h3",variant:"headingSm",children:["Featured Specs (",o.featured.length,")"]}),f.jsx(pe,{variant:"plain",onClick:ie,icon:lt,children:"Add"})]}),o.featured.map((E,w)=>f.jsxs(J,{gap:"200",align:"start",blockAlign:"end",children:[f.jsx("div",{style:{flex:1},children:f.jsx(xe,{label:"Title",value:E.title,onChange:A=>G(w,"title",A),autoComplete:"off"})}),f.jsx("div",{style:{flex:1},children:f.jsx(xe,{label:"Value",value:E.value,onChange:A=>G(w,"value",A),autoComplete:"off"})}),f.jsx(pe,{variant:"plain",tone:"critical",onClick:()=>te(w),icon:Qe})]},w))]}),f.jsx(ot,{}),f.jsxs(se,{gap:"300",children:[f.jsxs(J,{align:"space-between",children:[f.jsxs(R,{as:"h3",variant:"headingSm",children:["What's Included (",o.included.length,")"]}),f.jsx(pe,{variant:"plain",onClick:Y,icon:lt,children:"Add"})]}),o.included.map((E,w)=>f.jsxs(J,{gap:"200",align:"start",blockAlign:"end",children:[f.jsx("div",{style:{flex:2},children:f.jsx(xe,{label:"Item",value:E.title,onChange:A=>le(w,"title",A),autoComplete:"off"})}),f.jsx("div",{style:{flex:1},children:f.jsx(xe,{label:"Link (optional)",value:E.link,onChange:A=>le(w,"link",A),autoComplete:"off",placeholder:"/products/..."})}),f.jsx(pe,{variant:"plain",tone:"critical",onClick:()=>U(w),icon:Qe})]},w))]}),f.jsx(ot,{}),f.jsxs(se,{gap:"400",children:[f.jsxs(R,{as:"h3",variant:"headingSm",children:["Specifications (",o.specs.length," groups)"]}),o.specs.map((E,w)=>f.jsx(st,{children:f.jsxs(se,{gap:"300",children:[f.jsx(R,{as:"h4",variant:"headingSm",children:E.heading}),E.lines.map((A,K)=>f.jsxs(J,{gap:"200",align:"start",blockAlign:"end",children:[f.jsx("div",{style:{flex:1},children:f.jsx(xe,{label:"Spec",value:A.title,onChange:ue=>ce(w,K,"title",ue),autoComplete:"off",size:"slim"})}),f.jsx("div",{style:{flex:2},children:f.jsx(xe,{label:"Value",value:A.text,onChange:ue=>ce(w,K,"text",ue),autoComplete:"off",size:"slim"})}),f.jsx(pe,{variant:"plain",tone:"critical",onClick:()=>re(w,K),icon:Qe})]},K))]})},w))]}),f.jsx(ot,{}),f.jsx(J,{align:"end",children:f.jsx(pe,{variant:"primary",onClick:Te,loading:y,disabled:!s,icon:Xn,children:"Save to Product Metafields"})}),!s&&f.jsx(Re,{tone:"warning",children:"Please select a product in Step 1 before saving."})]})}),f.jsx(Pe,{open:p,onClose:()=>m(!1),title:"JSON Preview",children:f.jsx(Pe.Section,{children:f.jsx("pre",{style:{fontSize:"12px",overflow:"auto",maxHeight:"500px",background:"#f6f6f7",padding:"16px",borderRadius:"8px"},children:JSON.stringify(o,null,2)})})})]})})}function Xs(){const e=na(),n=()=>e&&typeof e=="object"&&"message"in e&&"suggestion"in e?e:{message:"Something went wrong.",suggestion:"Try refreshing the page or re-opening the app."},{message:s,suggestion:a}=n();return f.jsx(Tn,{title:"Product Bridge",children:f.jsx(Re,{tone:"critical",title:s,children:a})})}export{Xs as ErrorBoundary,qs as default};
