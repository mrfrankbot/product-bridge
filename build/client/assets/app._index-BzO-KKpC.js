import{y as e,r as o,C as at,u as Qn,D as ea,j as p}from"./components-CxUwHrZD.js";import{c as O,v as tt,g as mn,b as Ye,s as hn,T as W,I as ta,d as ve,e as na,f as oe,h as Q,S as bn,U as Mt,u as gn,K as Xe,i as Je,l as aa,a as Ee,j as ct,k as xe,m as wt,M as vn,W as It,B as de,n as sa,o as ae,p as Be,q as En,L as ra,r as oa,t as De,w as ia,x as la,y as ca,z as ua,A as Vt,D as da,E as fa,G as pa,F as Nt,H as xn,J as ma,N as Cn,O as ha,Q as ba,P as ga,C as st}from"./Page-CdUc060a.js";import{d as Tn,s as va,f as Ea,j as yn,i as mt,F as xa,E as Ca,p as Ta,k as ya}from"./context-hHRsg3cV.js";var Pn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),e.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),e.createElement("path",{fillRule:"evenodd",d:"M11.237 3.177a1.75 1.75 0 0 0-2.474 0l-5.586 5.585a1.75 1.75 0 0 0 0 2.475l5.586 5.586a1.75 1.75 0 0 0 2.474 0l5.586-5.586a1.75 1.75 0 0 0 0-2.475l-5.586-5.585Zm-1.414 1.06a.25.25 0 0 1 .354 0l5.586 5.586a.25.25 0 0 1 0 .354l-5.586 5.585a.25.25 0 0 1-.354 0l-5.586-5.585a.25.25 0 0 1 0-.354l5.586-5.586Z"}))};Pn.displayName="AlertDiamondIcon";var kn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10 6.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),e.createElement("path",{d:"M11 13.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),e.createElement("path",{fillRule:"evenodd",d:"M10 3.5c-1.045 0-1.784.702-2.152 1.447a449.26 449.26 0 0 1-2.005 3.847l-.028.052a403.426 403.426 0 0 0-2.008 3.856c-.372.752-.478 1.75.093 2.614.57.863 1.542 1.184 2.464 1.184h7.272c.922 0 1.895-.32 2.464-1.184.57-.864.465-1.862.093-2.614-.21-.424-1.113-2.147-2.004-3.847l-.032-.061a429.497 429.497 0 0 1-2.005-3.847c-.368-.745-1.107-1.447-2.152-1.447Zm-.808 2.112c.404-.816 1.212-.816 1.616 0 .202.409 1.112 2.145 2.022 3.88a418.904 418.904 0 0 1 2.018 3.875c.404.817 0 1.633-1.212 1.633h-7.272c-1.212 0-1.617-.816-1.212-1.633.202-.408 1.113-2.147 2.023-3.883a421.932 421.932 0 0 0 2.017-3.872Z"}))};kn.displayName="AlertTriangleIcon";var At=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M15.78 5.97a.75.75 0 0 1 0 1.06l-6.5 6.5a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 1 1 1.06-1.06l2.72 2.72 5.97-5.97a.75.75 0 0 1 1.06 0Z"}))};At.displayName="CheckIcon";var Sn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M11.5 8.25a.75.75 0 0 1 .75.75v4.25a.75.75 0 0 1-1.5 0v-4.25a.75.75 0 0 1 .75-.75Z"}),e.createElement("path",{d:"M9.25 9a.75.75 0 0 0-1.5 0v4.25a.75.75 0 0 0 1.5 0v-4.25Z"}),e.createElement("path",{fillRule:"evenodd",d:"M7.25 5.25a2.75 2.75 0 0 1 5.5 0h3a.75.75 0 0 1 0 1.5h-.75v5.45c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327h-.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311c-.327-.642-.327-1.482-.327-3.162v-5.45h-.75a.75.75 0 0 1 0-1.5h3Zm1.5 0a1.25 1.25 0 1 1 2.5 0h-2.5Zm-2.25 1.5h7v5.45c0 .865-.001 1.423-.036 1.848-.033.408-.09.559-.128.633a1.5 1.5 0 0 1-.655.655c-.074.038-.225.095-.633.128-.425.035-.983.036-1.848.036h-.4c-.865 0-1.423-.001-1.848-.036-.408-.033-.559-.09-.633-.128a1.5 1.5 0 0 1-.656-.655c-.037-.074-.094-.225-.127-.633-.035-.425-.036-.983-.036-1.848v-5.45Z"}))};Sn.displayName="DeleteIcon";var Mn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M11.25 8.5c-.414 0-.75.336-.75.75v1.25h-1.25c-.414 0-.75.336-.75.75s.336.75.75.75h1.25v1.25c0 .414.336.75.75.75s.75-.336.75-.75v-1.25h1.25c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-1.25v-1.25c0-.414-.336-.75-.75-.75Z"}),e.createElement("path",{fillRule:"evenodd",d:"M8.75 16.5c-1.438 0-2.618-1.104-2.74-2.51-1.406-.122-2.51-1.302-2.51-2.74v-5c0-1.519 1.231-2.75 2.75-2.75h5c1.438 0 2.618 1.104 2.74 2.51 1.406.122 2.51 1.302 2.51 2.74v5c0 1.519-1.231 2.75-2.75 2.75h-5Zm0-10.5c-1.519 0-2.75 1.231-2.75 2.75v3.725c-.57-.116-1-.62-1-1.225v-5c0-.69.56-1.25 1.25-1.25h5c.605 0 1.11.43 1.225 1h-3.725Zm0 1.5c-.69 0-1.25.56-1.25 1.25v5c0 .69.56 1.25 1.25 1.25h5c.69 0 1.25-.56 1.25-1.25v-5c0-.69-.56-1.25-1.25-1.25h-5Z"}))};Mn.displayName="DuplicateIcon";var wn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M15.655 4.344a2.695 2.695 0 0 0-3.81 0l-.599.599-.009-.009-1.06 1.06.008.01-5.88 5.88a2.75 2.75 0 0 0-.805 1.944v1.922a.75.75 0 0 0 .75.75h1.922a2.75 2.75 0 0 0 1.944-.806l7.54-7.539a2.695 2.695 0 0 0 0-3.81Zm-4.409 2.72-5.88 5.88a1.25 1.25 0 0 0-.366.884v1.172h1.172c.331 0 .65-.132.883-.366l5.88-5.88-1.689-1.69Zm2.75.629.599-.599a1.195 1.195 0 1 0-1.69-1.689l-.598.599 1.69 1.689Z"}))};wn.displayName="EditIcon";var Dt=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10 14a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5a.75.75 0 0 1-.75.75Z"}),e.createElement("path",{d:"M9 7a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"}),e.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};Dt.displayName="InfoIcon";var In=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M3 6.75c0-2.071 1.679-3.75 3.75-3.75h6.5c2.071 0 3.75 1.679 3.75 3.75v6.5c0 2.071-1.679 3.75-3.75 3.75h-6.5c-2.071 0-3.75-1.679-3.75-3.75v-6.5Zm3.75-2.25c-1.243 0-2.25 1.007-2.25 2.25v6.5c0 1.243 1.007 2.25 2.25 2.25h.5v-11h-.5Zm4.5 11h-2.5v-11h2.5v11Zm1.5 0h.5c1.243 0 2.25-1.007 2.25-2.25v-6.5c0-1.243-1.007-2.25-2.25-2.25h-.5v11Z"}))};In.displayName="LayoutColumns3Icon";var Nn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M5 10c0-.414.336-.75.75-.75h8.5c.414 0 .75.336.75.75s-.336.75-.75.75h-8.5c-.414 0-.75-.336-.75-.75Z"}))};Nn.displayName="MinusIcon";var An=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};An.displayName="PlusIcon";var Ft=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M16.5 6.26a.75.75 0 0 1-1.5 0v-.51a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.51a.75.75 0 0 1-1.5 0v-.51a2.25 2.25 0 0 1 2.25-2.25h8.5a2.25 2.25 0 0 1 2.25 2.25v.51Z"}),e.createElement("path",{d:"M10.75 16.01a.75.75 0 0 1-1.5 0v-6.69l-1.72 1.72a.75.75 0 1 1-1.06-1.06l3-3a.75.75 0 0 1 1.06 0l3 3a.75.75 0 1 1-1.06 1.06l-1.72-1.72v6.69Z"}))};Ft.displayName="UploadIcon";var Lt=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M12.72 13.78a.75.75 0 1 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06l-2.72 2.72-2.72-2.72a.75.75 0 0 0-1.06 1.06l2.72 2.72-2.72 2.72a.75.75 0 1 0 1.06 1.06l2.72-2.72 2.72 2.72Z"}))};Lt.displayName="XIcon";function Pa({alt:t,sourceSet:n,source:s,crossOrigin:a,onLoad:l,className:c,...u}){const r=n?n.map(({source:d,descriptor:f})=>`${d} ${f}`).join(","):null,i=o.useCallback(()=>{l&&l()},[l]);return e.createElement("img",Object.assign({alt:t,src:s,crossOrigin:a,className:c,onLoad:i},r?{srcSet:r}:{},u))}function ka(t){return typeof t[0]=="object"&&Object.prototype.hasOwnProperty.call(t[0],"options")}var Sa={SectionWrapper:"Polaris-Autocomplete__SectionWrapper"},rt={Content:"Polaris-Autocomplete-MappedOption__Content",Media:"Polaris-Autocomplete-MappedOption__Media",singleSelectionMedia:"Polaris-Autocomplete-MappedOption--singleSelectionMedia",disabledMedia:"Polaris-Autocomplete-MappedOption--disabledMedia"},Ma={Listbox:"Polaris-Listbox"};const Dn=o.createContext(void 0),Fn=o.createContext({}),Ln=o.createContext({});function wa(){const t=o.useContext(Dn);if(!t)throw new Error("No Combobox was provided. Your component must be wrapped in a <Combobox> component.");return t}function Ia(){return o.useContext(Fn)}function Na(t,n){const s=n.scrollTop,a=s+n.clientHeight,{offsetHeight:l}=t,{offsetTop:c}=t,u=c+l;if(!(c>s&&u<a)){let i=0;u>a?i=u+l*.85-a:c<s&&(i=c-l*.15-s),requestAnimationFrame(()=>{n.scrollBy({top:i,behavior:"auto"})})}}const On=o.createContext(void 0),jn=o.createContext(!1),Ot=o.createContext(!1);var Re={TextOption:"Polaris-Listbox-TextOption",allowMultiple:"Polaris-Listbox-TextOption--allowMultiple",isAction:"Polaris-Listbox-TextOption--isAction",disabled:"Polaris-Listbox-TextOption--disabled",selected:"Polaris-Listbox-TextOption--selected",Content:"Polaris-Listbox-TextOption__Content",Checkbox:"Polaris-Listbox-TextOption__Checkbox"},Ae={Checkbox:"Polaris-Checkbox",ChoiceLabel:"Polaris-Checkbox__ChoiceLabel",Backdrop:"Polaris-Checkbox__Backdrop",Input:"Polaris-Checkbox__Input","Input-indeterminate":"Polaris-Checkbox__Input--indeterminate",Icon:"Polaris-Checkbox__Icon",animated:"Polaris-Checkbox--animated",toneMagic:"Polaris-Checkbox--toneMagic",hover:"Polaris-Checkbox--hover",error:"Polaris-Checkbox--error",checked:"Polaris-Checkbox--checked",pathAnimation:"Polaris-Checkbox--pathAnimation"},_e={Choice:"Polaris-Choice",labelHidden:"Polaris-Choice--labelHidden",Label:"Polaris-Choice__Label",Control:"Polaris-Choice__Control",disabled:"Polaris-Choice--disabled",toneMagic:"Polaris-Choice--toneMagic",Descriptions:"Polaris-Choice__Descriptions",HelpText:"Polaris-Choice__HelpText"};function Aa({id:t,label:n,disabled:s,error:a,children:l,labelHidden:c,helpText:u,onClick:r,labelClassName:i,fill:d,bleed:f,bleedBlockStart:m,bleedBlockEnd:b,bleedInlineStart:E,bleedInlineEnd:g,tone:T}){const v=O(_e.Choice,c&&_e.labelHidden,s&&_e.disabled,T&&_e[tt("tone",T)],i),y={...Ye("choice","bleed-block-end","space",b||f),...Ye("choice","bleed-block-start","space",m||f),...Ye("choice","bleed-inline-start","space",E||f),...Ye("choice","bleed-inline-end","space",g||f),...Object.fromEntries(Object.entries(mn("choice","fill",d)).map(([k,j])=>[k,j?"100%":"auto"]))},S=e.createElement("label",{className:v,htmlFor:t,onClick:r,style:hn(y)},e.createElement("span",{className:_e.Control},l),e.createElement("span",{className:_e.Label},e.createElement(W,{as:"span",variant:"bodyMd"},n))),F=u?e.createElement("div",{className:_e.HelpText,id:_n(t)},e.createElement(W,{as:"span",tone:s?void 0:"subdued"},u)):null,A=a&&typeof a!="boolean"&&e.createElement("div",{className:_e.Error},e.createElement(ta,{message:a,fieldID:t})),P=F||A?e.createElement("div",{className:_e.Descriptions},A,F):null;return P?e.createElement("div",null,S,P):S}function _n(t){return`${t}HelpText`}const Da=o.forwardRef(function({ariaControls:n,ariaDescribedBy:s,label:a,labelHidden:l,checked:c=!1,helpText:u,disabled:r,id:i,name:d,value:f,error:m,onChange:b,onFocus:E,onBlur:g,labelClassName:T,fill:v,bleed:y,bleedBlockStart:S,bleedBlockEnd:F,bleedInlineStart:A,bleedInlineEnd:P,tone:k},j){const D=o.useRef(null),z=o.useId(),$=i??z,Z=o.useContext(jn);o.useImperativeHandle(j,()=>({focus:()=>{D.current&&D.current.focus()}}));const G=()=>{g&&g()},Y=()=>{b==null||D.current==null||r||(b(D.current.checked,$),D.current.focus())},_=[];m&&typeof m!="boolean"&&_.push(na($)),u&&_.push(_n($)),s&&_.push(s);const q=_.length?_.join(" "):void 0,H=O(Ae.Checkbox,m&&Ae.error),te=c==="indeterminate",ie=!te&&!!c,le=te?{indeterminate:"true","aria-checked":"mixed"}:{"aria-checked":ie},V=e.createElement("svg",{viewBox:"0 0 16 16",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},e.createElement("path",{className:O(c&&Ae.checked),d:"M1.5,5.5L3.44655,8.22517C3.72862,8.62007,4.30578,8.64717,4.62362,8.28044L10.5,1.5",transform:"translate(2 2.980376)",opacity:"0",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",pathLength:"1"})),ee=O(Ae.Input,te&&Ae["Input-indeterminate"],k&&Ae[tt("tone",k)]),ce={helpText:u,error:m,bleed:y,bleedBlockStart:S,bleedBlockEnd:F,bleedInlineStart:A,bleedInlineEnd:P};return e.createElement(Aa,Object.assign({id:$,label:a,labelHidden:l,disabled:r,labelClassName:O(Ae.ChoiceLabel,T),fill:v,tone:k},ce),e.createElement("span",{className:H},e.createElement("input",Object.assign({ref:D,id:$,name:d,value:f,type:"checkbox",checked:ie,disabled:r,className:ee,onBlur:G,onChange:Fa,onClick:Y,onFocus:E,"aria-invalid":m!=null,"aria-controls":n,"aria-describedby":q,role:Z?"presentation":"checkbox"},le)),e.createElement("span",{className:Ae.Backdrop,onClick:zt,onKeyUp:zt}),e.createElement("span",{className:O(Ae.Icon,!te&&Ae.animated)},te?e.createElement(ve,{source:Nn}):V)))});function Fa(){}function zt(t){t.stopPropagation()}const jt=o.memo(function({children:n,selected:s,disabled:a}){const{allowMultiple:l}=o.useContext(Ln),c=o.useContext(Ot),u=O(Re.TextOption,s&&!l&&Re.selected,a&&Re.disabled,l&&Re.allowMultiple,c&&Re.isAction),r=s?e.createElement(oe,{width:"100%"},e.createElement(Q,{wrap:!1,align:"space-between",gap:"200"},n,e.createElement(Q,{align:"end"},e.createElement(ve,{source:At})))):e.createElement(e.Fragment,null,n);return e.createElement("div",{className:u},e.createElement("div",{className:Re.Content},l&&!c?e.createElement("div",{className:Re.Checkbox},e.createElement(Da,{disabled:a,checked:s,label:n})):r))});var Kt={ListItem:"Polaris-Listbox-Loading__ListItem",Loading:"Polaris-Listbox-Loading"};function Bn(){const t=o.useContext(On);if(!t)throw new Error("No Listbox was provided. Listbox components must be wrapped in a Listbox");return t}const La=o.memo(function({children:n,accessibilityLabel:s}){const{setLoading:a}=Bn();return o.useEffect(()=>(a(s),()=>{a(void 0)}),[s,a]),e.createElement("li",{className:Kt.ListItem,role:"presentation"},n||e.createElement("div",{className:Kt.Loading},e.createElement(bn,{size:"small",accessibilityLabel:s})))}),Oa={props:{"data-polaris-listbox-section-item":!0}},ja={attribute:"data-polaris-listbox-within-section-item"},Rn=o.createContext(null);var Gt={SectionGroup:"Polaris-Listbox-Section__SectionGroup",noDivider:"Polaris-Listbox-Section--noDivider"};function _a({children:t,divider:n=!0,title:s}){const a=o.useId();return e.createElement(Rn.Provider,{value:a},e.createElement("li",Object.assign({role:"presentation"},Oa.props),s,e.createElement("ul",{role:"group","aria-labelledby":a,className:O(Gt.SectionGroup,!n&&Gt.noDivider)},t)))}function Wn(){return o.useContext(Rn)}function Ba({children:t}){const n=Wn()||"",s=typeof t=="string"?e.createElement(oe,{paddingBlockStart:"200",paddingInlineStart:"400",paddingBlockEnd:"200",paddingInlineEnd:"400"},e.createElement(W,{as:"span",variant:"headingSm",tone:"subdued"},t)):t;return e.createElement("div",{"aria-hidden":!0,id:n},s)}var ht={Action:"Polaris-Listbox-Action",ActionDivider:"Polaris-Listbox-Action__ActionDivider",Icon:"Polaris-Listbox-Action__Icon"},qt={Option:"Polaris-Listbox-Option",divider:"Polaris-Listbox-Option--divider"};const $n=o.createContext({}),Un=o.memo(function({value:n,children:s,selected:a,disabled:l=!1,accessibilityLabel:c,divider:u}){const{onOptionSelect:r}=Bn(),i=o.useContext(Ot),{role:d,url:f,external:m,onAction:b,destructive:E}=o.useContext($n),g=o.useRef(null),T=o.useId(),y=!!Wn(),S=o.useCallback(D=>{D.preventDefault(),D.stopPropagation(),b&&b(),g.current&&!b&&r({domId:T,value:n,element:g.current,disabled:l})},[T,r,n,l,b]),F=D=>{D.preventDefault()},A=typeof s=="string"?e.createElement(jt,{selected:a,disabled:l},s):s,P={[ja.attribute]:y},k=d||"option",j=f?e.createElement(Mt,{url:f,external:m},A):A;return e.createElement("li",Object.assign({},P,{"data-listbox-option":!0,"data-listbox-option-action":i,"data-listbox-option-value":n,"data-listbox-option-destructive":E,"data-within-section":y,className:O(qt.Option,u&&qt.divider),id:T,ref:g,tabIndex:-1,role:k,"aria-label":c,"aria-selected":a,"aria-disabled":l,onClick:l?void 0:S,onKeyDown:l?void 0:S,onMouseDown:F}),j)});function Ra(t){const{selected:n,disabled:s,children:a,icon:l,divider:c}=t,u=l&&e.createElement("div",{className:ht.Icon},e.createElement(ve,{tone:"subdued",source:l})),r=O(ht.Action,c&&ht.ActionDivider);return e.createElement(Ot.Provider,{value:!0},e.createElement(Un,t,e.createElement("div",{className:r},e.createElement(jt,{selected:n,disabled:s},u,a))))}let Ue;(function(t){t.FirstSelected="FIRST_SELECTED",t.First="FIRST",t.None="NONE"})(Ue||(Ue={}));const Wa="[data-listbox-option]",bt="data-listbox-option-value",$a="data-listbox-option-action",Xt="data-focused";function ge({children:t,autoSelection:n=Ue.FirstSelected,enableKeyboardControl:s,accessibilityLabel:a,customListId:l,onSelect:c,onActiveOptionChange:u}){const[r,i]=o.useState(),[d,f]=o.useState(),[m,b]=o.useState(!1),[E,g]=o.useState([]),{value:T,setTrue:v,setFalse:y}=gn(!!s),S=o.useId(),F=l||S,A=o.useRef(null),P=o.useRef(null),{listboxId:k,textFieldLabelId:j,textFieldFocused:D,willLoadMoreOptions:z,setActiveOptionId:$,setListboxId:Z,onOptionSelected:G,onKeyToBottom:Y}=Ia(),_=!!$;o.useEffect(()=>{Z&&!k&&Z(F)},[Z,k,F]);const q=o.useCallback(()=>P.current?[...new Set(P.current.querySelectorAll(Wa))]:[],[]),H=o.useCallback(h=>{const w=h.some(X=>X.getAttribute("aria-selected")==="true");let B=0;const K=h.find((X,L)=>{const J=X.getAttribute("aria-disabled")!=="true";let ue;return w&&n===Ue.FirstSelected?ue=X.getAttribute("aria-selected")==="true"&&J:ue=J,ue&&(B=L),ue});if(K)return{element:K,index:B}},[n]),te=o.useCallback(h=>{const{current:w}=A;w&&Na(h.element,w)},[]),ie=Tn(te,50),le=o.useCallback(()=>{if(Y)return b(!0),Promise.resolve(Y())},[Y]),V=o.useCallback(h=>{if(!h)return f(void 0);d==null||d.element.removeAttribute(Xt),h.element.setAttribute(Xt,"true"),ie(h),f(h),$==null||$(h.domId),u==null||u(h.value,h.domId)},[d,$,u,ie]),ee=o.useCallback((h,w)=>({element:h,index:w,domId:h.id,value:h.getAttribute(bt)||"",disabled:h.getAttribute("aria-disabled")==="true",isAction:h.getAttribute($a)==="true"}),[]),ce=o.useCallback(()=>{let h;const w=q(),B=H(w);if(w.length===0&&E.length>0){g(w),V();return}if(B){const{element:be,index:Oe}=B;h=ee(be,Oe)}const K=d!==void 0&&(h==null?void 0:h.domId)===(d==null?void 0:d.domId),X=(d==null?void 0:d.isAction)&&(h==null?void 0:h.isAction)&&(h==null?void 0:h.value)!==(d==null?void 0:d.value),L=E.map(be=>be.getAttribute(bt)),J=w.map(be=>be.getAttribute(bt)),ue=J.length===L.length&&J.every((be,Oe)=>L[Oe]===be),Le=L.length!==0&&J.length>L.length&&L.every((be,Oe)=>J[Oe]===be);if(ue){K&&X&&(g(w),V(h));return}if(Le){g(w);return}if(g(w),m){b(!1);return}V(h)},[m,E,d,H,q,ee,V]);o.useEffect(()=>{n!==Ue.None&&!r&&t&&o.Children.count(t)>0&&ce()},[t,n,d,r,ce]),o.useEffect(()=>{P.current&&(A.current=P.current.closest(va.selector))},[]),o.useEffect(()=>{s&&!T&&v()},[s,T,v]);const se=o.useCallback(h=>{V(h),G&&G(),c&&c(h.value)},[V,c,G]),Ce=o.useCallback((h,w,B)=>{let K;return B==="down"?h===w?K=z?h+1:0:K=h+1:K=h===0?w:h-1,K},[z]),fe=o.useCallback(async h=>{const w=E.length-1;let B=(d==null?void 0:d.index)||0,K=0,X=d==null?void 0:d.element,L=-1;if(!d&&n===Ue.None){const J=q(),ue=H(J);return g(J),{element:ue==null?void 0:ue.element,nextIndex:(ue==null?void 0:ue.index)||0}}for(;L++<w;){K=Ce(B,w,h),X=E[K];const J=K>=w,ue=(X==null?void 0:X.getAttribute("aria-disabled"))==="true";if(J&&z&&await le(),ue){B=K,X=void 0;continue}break}return{element:X,nextIndex:K}},[n,E,d,z,Ce,le,H,q]),me=o.useCallback(async(h,w)=>{w.preventDefault();const{element:B,nextIndex:K}=await fe(h);if(!B)return;const X=ee(B,K);V(X)},[ee,fe,V]),Te=o.useCallback(h=>{me("down",h)},[me]),he=o.useCallback(h=>{me("up",h)},[me]),Pe=o.useCallback(h=>{h.preventDefault(),h.stopPropagation(),d&&se(d)},[d,se]),we=o.useCallback(()=>{s||v()},[s,v]),Ie=o.useCallback(h=>{if(h.stopPropagation(),T){const w=H(E);if(w){const{element:B,index:K}=w,X=ee(B,K);V(X)}}s||y()},[s,E,T,y,H,ee,V]),x=T||D?e.createElement(e.Fragment,null,e.createElement(Xe,{keyEvent:"keydown",keyCode:Je.DownArrow,handler:Te}),e.createElement(Xe,{keyEvent:"keydown",keyCode:Je.UpArrow,handler:he}),e.createElement(Xe,{keyEvent:"keydown",keyCode:Je.Enter,handler:Pe})):null,M=o.useMemo(()=>({onOptionSelect:se,setLoading:i}),[se]);return e.createElement(e.Fragment,null,x,e.createElement(W,{as:"span",visuallyHidden:!0},e.createElement("div",{"aria-live":"polite"},r||null)),e.createElement(On.Provider,{value:M},e.createElement(jn.Provider,{value:!0},t?e.createElement("ul",{tabIndex:0,role:"listbox",className:Ma.Listbox,"aria-label":_?void 0:a,"aria-labelledby":j,"aria-busy":!!r,"aria-activedescendant":d&&d.domId,id:F,onFocus:_?void 0:we,onBlur:_?void 0:Ie,ref:P},t):null)))}ge.Option=Un;ge.TextOption=jt;ge.Loading=La;ge.Section=_a;ge.Header=Ba;ge.Action=Ra;const Ua=o.memo(function({label:n,value:s,disabled:a,media:l,selected:c,singleSelection:u}){const r=O(rt.Media,a&&rt.disabledMedia,u&&rt.singleSelectionMedia),i=l?e.createElement("div",{className:r},l):null,d=typeof n=="string"?n:void 0;return e.createElement(ge.Option,{accessibilityLabel:d,key:s,selected:c,value:s,disabled:a},e.createElement(ge.TextOption,{selected:c,disabled:a},e.createElement("div",{className:rt.Content},i,n)))});var Za={Listbox:"Polaris-Combobox__Listbox"};function Ha({value:t,id:n,type:s="text",ariaAutocomplete:a="list",onFocus:l,onBlur:c,onChange:u,...r}){const i=wa(),{activeOptionId:d,listboxId:f,expanded:m,setTextFieldFocused:b,setTextFieldLabelId:E,onTextFieldFocus:g,onTextFieldChange:T,onTextFieldBlur:v}=i,y=o.useId(),S=o.useMemo(()=>n||y,[y,n]),F=o.useMemo(()=>aa(n||y),[y,n]);o.useEffect(()=>{E&&E(F)},[F,E]);const A=o.useCallback(j=>{l&&l(j),g&&g(),b&&b(!0)},[l,g,b]),P=o.useCallback(j=>{c&&c(j),v&&v(),b&&b(!1)},[c,v,b]),k=o.useCallback((j,D)=>{u&&u(j,D),T&&T(j)},[u,T]);return e.createElement(Ee,Object.assign({},r,{value:t,id:S,type:s,ariaAutocomplete:a,"aria-haspopup":"listbox",ariaActiveDescendant:d,ariaControls:f,role:"combobox",ariaExpanded:m,onFocus:A,onBlur:P,onChange:k}))}function _t({activator:t,allowMultiple:n,children:s,preferredPosition:a="below",willLoadMoreOptions:l,height:c,onScrolledToBottom:u,onClose:r}){const[i,d]=o.useState(!1),[f,m]=o.useState(),[b,E]=o.useState(),[g,T]=o.useState(),[v,y]=o.useState(!1),S=!i,F=i&&o.Children.count(s)>0,A=o.useRef(null),P=o.useCallback(()=>{d(!1),r==null||r(),m(void 0)},[r]),k=o.useCallback(()=>{d(!0),m(void 0)},[]),j=o.useCallback(()=>{var _;if(!n){P(),m(void 0);return}(_=A.current)==null||_.forceUpdatePosition()},[n,P]),D=o.useCallback(()=>{S&&k()},[S,k]),z=o.useCallback(()=>{S&&k()},[S,k]),$=o.useCallback(()=>{i&&P()},[i,P]),Z=o.useMemo(()=>({activeOptionId:f,expanded:i,listboxId:g,setTextFieldFocused:y,setTextFieldLabelId:E,onTextFieldFocus:D,onTextFieldChange:z,onTextFieldBlur:$}),[f,i,g,y,E,D,z,$]),G=o.useMemo(()=>({allowMultiple:n}),[n]),Y=o.useMemo(()=>({listboxId:g,textFieldLabelId:b,textFieldFocused:v,willLoadMoreOptions:l,onOptionSelected:j,setActiveOptionId:m,setListboxId:T,onKeyToBottom:u}),[g,b,v,l,j,m,T,u]);return e.createElement(ct,{ref:A,active:F,activator:e.createElement(Dn.Provider,{value:Z},t),autofocusTarget:"none",preventFocusOnClose:!0,fullWidth:!0,preferInputActivator:!1,preferredPosition:a,onClose:P},o.Children.count(s)>0?e.createElement(ct.Pane,{onScrolledToBottom:u,height:c},e.createElement(Fn.Provider,{value:Y},e.createElement(Ln.Provider,{value:G},e.createElement("div",{className:Za.Listbox},s)))):null)}_t.TextField=Ha;var ye={ActionContainer:"Polaris-Autocomplete-MappedAction__ActionContainer",Action:"Polaris-Autocomplete-MappedAction__Action",destructive:"Polaris-Autocomplete-MappedAction--destructive",selected:"Polaris-Autocomplete-MappedAction--selected",disabled:"Polaris-Autocomplete-MappedAction--disabled",Prefix:"Polaris-Autocomplete-MappedAction__Prefix",Suffix:"Polaris-Autocomplete-MappedAction__Suffix",Content:"Polaris-Autocomplete-MappedAction__Content",Text:"Polaris-Autocomplete-MappedAction__Text"};function Va({active:t,content:n,disabled:s,icon:a,image:l,prefix:c,suffix:u,ellipsis:r,role:i,url:d,external:f,onAction:m,destructive:b,badge:E,helpText:g,wrapOverflow:T=!1}){const v=xe();let y=null;c?y=e.createElement("div",{className:ye.Prefix},c):a?y=e.createElement("div",{className:ye.Prefix},e.createElement(ve,{source:a})):l&&(y=e.createElement("div",{role:"presentation",className:ye.Prefix,style:{backgroundImage:`url(${l}`}}));const S=E&&e.createElement("span",{className:ye.Suffix},e.createElement(wt,{tone:E.tone},E.content)),F=u&&e.createElement("span",{className:ye.Suffix},u),A=r&&n?v.translate("Polaris.Autocomplete.ellipsis",{content:n}):n,P=e.createElement("div",{className:ye.Text},e.createElement(W,{as:"p",variant:"bodyMd",breakWord:T},A),g?e.createElement(W,{as:"p",variant:"bodyMd",tone:"subdued"},g):null),k=o.useMemo(()=>({role:i,url:d,external:f,onAction:m,destructive:b}),[i,d,f,m,b]),j=O(ye.Action,s&&ye.disabled,b&&ye.destructive,t&&ye.selected);return e.createElement($n.Provider,{value:k},e.createElement("div",{className:ye.ActionContainer},e.createElement(ge.Action,{selected:t,disabled:s,value:n||""},e.createElement("div",{className:j},e.createElement("div",{className:ye.Content},y,P,S,F)))))}const yt=function({options:n,selected:s,textField:a,preferredPosition:l,listTitle:c,allowMultiple:u,loading:r,actionBefore:i,willLoadMoreResults:d,emptyState:f,onSelect:m,onLoadMoreResults:b}){const E=xe(),g=o.useCallback(P=>P.map(k=>e.createElement(Ua,Object.assign({key:k.id||k.value},k,{selected:s.includes(k.value),singleSelection:!u}))),[s,u]),T=o.useMemo(()=>{const P=r&&!d?[]:n;if(ka(P)){if(P.every(({options:z})=>z.length===0))return null;const D=P.map(({options:z,title:$})=>{if(z.length===0)return null;const Z=g(z);return e.createElement(ge.Section,{divider:!1,title:e.createElement(ge.Header,null,$),key:$},Z)});return e.createElement("div",{className:Sa.SectionWrapper},D)}const k=P.length>0?g(P):null;return c?e.createElement(ge.Section,{divider:!1,title:e.createElement(ge.Header,null,c)},k):k},[c,r,n,d,g]),v=r?e.createElement(ge.Loading,{accessibilityLabel:E.translate("Polaris.Autocomplete.spinnerAccessibilityLabel")}):null,y=o.useCallback(P=>{if(i&&P===i.content){i.onAction&&i.onAction();return}u?s.includes(P)?m(s.filter(k=>k!==P)):m([...s,P]):m([P])},[u,m,s,i]),S=i&&e.createElement(Va,i),F=f&&n.length<1&&!r&&e.createElement("div",{role:"status"},f),A=i?Ue.First:void 0;return e.createElement(_t,{activator:a,allowMultiple:u,onScrolledToBottom:b,preferredPosition:l,willLoadMoreOptions:d},S||T||v||F?e.createElement(ge,{autoSelection:A,onSelect:y},S,T&&(!r||d)?T:null,v,F):null)};yt.TextField=_t.TextField;var gt={Backdrop:"Polaris-Backdrop",transparent:"Polaris-Backdrop--transparent",belowNavigation:"Polaris-Backdrop--belowNavigation"};function za(){const t=o.useContext(Ea);if(!t)throw new vn("No ScrollLockManager was provided.");return t}function Ka(t){const n=za();return o.useEffect(()=>(n.registerScrollLock(),()=>{n.unregisterScrollLock()}),[n]),null}function Ga(t){const{onClick:n,onTouchStart:s,belowNavigation:a,transparent:l,setClosing:c}=t,u=O(gt.Backdrop,a&&gt.belowNavigation,l&&gt.transparent),r=()=>{c&&c(!0)},i=()=>{c&&c(!1),n&&n()};return e.createElement(e.Fragment,null,e.createElement(Ka,null),e.createElement("div",{className:u,onClick:i,onTouchStart:s,onMouseDown:r}))}const qa=o.createContext(!1);var Ze={Banner:"Polaris-Banner",keyFocused:"Polaris-Banner--keyFocused",withinContentContainer:"Polaris-Banner--withinContentContainer",withinPage:"Polaris-Banner--withinPage",DismissIcon:"Polaris-Banner__DismissIcon","text-success-on-bg-fill":"Polaris-Banner--textSuccessOnBgFill","text-success":"Polaris-Banner__text--success","text-warning-on-bg-fill":"Polaris-Banner--textWarningOnBgFill","text-warning":"Polaris-Banner__text--warning","text-critical-on-bg-fill":"Polaris-Banner--textCriticalOnBgFill","text-critical":"Polaris-Banner__text--critical","text-info-on-bg-fill":"Polaris-Banner--textInfoOnBgFill","text-info":"Polaris-Banner__text--info","icon-secondary":"Polaris-Banner__icon--secondary"};const vt={success:{withinPage:{background:"bg-fill-success",text:"text-success-on-bg-fill",icon:"text-success-on-bg-fill"},withinContentContainer:{background:"bg-surface-success",text:"text-success",icon:"text-success"},icon:At},warning:{withinPage:{background:"bg-fill-warning",text:"text-warning-on-bg-fill",icon:"text-warning-on-bg-fill"},withinContentContainer:{background:"bg-surface-warning",text:"text-warning",icon:"text-warning"},icon:kn},critical:{withinPage:{background:"bg-fill-critical",text:"text-critical-on-bg-fill",icon:"text-critical-on-bg-fill"},withinContentContainer:{background:"bg-surface-critical",text:"text-critical",icon:"text-critical"},icon:Pn},info:{withinPage:{background:"bg-fill-info",text:"text-info-on-bg-fill",icon:"text-info-on-bg-fill"},withinContentContainer:{background:"bg-surface-info",text:"text-info",icon:"text-info"},icon:Dt}};function Xa(t){const n=o.useRef(null),[s,a]=o.useState(!1);return o.useImperativeHandle(t,()=>({focus:()=>{var r;(r=n.current)==null||r.focus(),a(!0)}}),[]),{wrapperRef:n,handleKeyUp:r=>{r.target===n.current&&a(!0)},handleBlur:()=>a(!1),handleMouseUp:r=>{r.currentTarget.blur(),a(!1)},shouldShowFocus:s}}const ze=o.forwardRef(function(n,s){const{tone:a,stopAnnouncements:l}=n,c=o.useContext(It),{wrapperRef:u,handleKeyUp:r,handleBlur:i,handleMouseUp:d,shouldShowFocus:f}=Xa(s),m=O(Ze.Banner,f&&Ze.keyFocused,c?Ze.withinContentContainer:Ze.withinPage);return e.createElement(qa.Provider,{value:!0},e.createElement("div",{className:m,tabIndex:0,ref:u,role:a==="warning"||a==="critical"?"alert":"status","aria-live":l?"off":"polite",onMouseUp:d,onKeyUp:r,onBlur:i},e.createElement(Ja,n)))});function Ja({tone:t="info",icon:n,hideIcon:s,onDismiss:a,action:l,secondaryAction:c,title:u,children:r}){const i=xe(),d=o.useContext(It),f=!u&&!d,m=Object.keys(vt).includes(t)?t:"info",b=vt[m][d?"withinContentContainer":"withinPage"],E={backgroundColor:b.background,textColor:b.text,bannerTitle:u?e.createElement(W,{as:"h2",variant:"headingSm",breakWord:!0},u):null,bannerIcon:s?null:e.createElement("span",{className:Ze[b.icon]},e.createElement(ve,{source:n??vt[m].icon})),actionButtons:l||c?e.createElement(sa,null,l&&e.createElement(de,Object.assign({onClick:l.onAction},l),l.content),c&&e.createElement(de,Object.assign({onClick:c.onAction},c),c.content)):null,dismissButton:a?e.createElement(de,{variant:"tertiary",icon:e.createElement("span",{className:Ze[f?"icon-secondary":b.icon]},e.createElement(ve,{source:Lt})),onClick:a,accessibilityLabel:i.translate("Polaris.Banner.dismissButton")}):null},g=r?e.createElement(W,{as:"span",variant:"bodyMd"},r):null;return d?e.createElement(es,E,g):f?e.createElement(Qa,E,g):e.createElement(Ya,E,g)}function Ya({backgroundColor:t,textColor:n,bannerTitle:s,bannerIcon:a,actionButtons:l,dismissButton:c,children:u}){const{smUp:r}=yn(),i=u||l;return e.createElement(oe,{width:"100%"},e.createElement(ae,{align:"space-between"},e.createElement(oe,{background:t,color:n,borderStartStartRadius:r?"300":void 0,borderStartEndRadius:r?"300":void 0,borderEndStartRadius:!i&&r?"300":void 0,borderEndEndRadius:!i&&r?"300":void 0,padding:"300"},e.createElement(Q,{align:"space-between",blockAlign:"center",gap:"200",wrap:!1},e.createElement(Q,{gap:"100",wrap:!1},a,s),c)),i&&e.createElement(oe,{padding:{xs:"300",md:"400"},paddingBlockStart:"300"},e.createElement(ae,{gap:"200"},e.createElement("div",null,u),l))))}function Qa({backgroundColor:t,bannerIcon:n,actionButtons:s,dismissButton:a,children:l}){const[c,u]=o.useState("center"),r=o.useRef(null),i=o.useRef(null),d=o.useRef(null),f=o.useCallback(()=>{var E,g,T;const m=(E=r.current)==null?void 0:E.offsetHeight,b=((g=i.current)==null?void 0:g.offsetHeight)||((T=d.current)==null?void 0:T.offsetHeight);!m||!b||(m>b?u("start"):u("center"))},[]);return o.useEffect(()=>f(),[f]),Be("resize",f),e.createElement(oe,{width:"100%",padding:"300",borderRadius:"300"},e.createElement(Q,{align:"space-between",blockAlign:c,wrap:!1},e.createElement(oe,{width:"100%"},e.createElement(Q,{gap:"200",wrap:!1,blockAlign:c},n?e.createElement("div",{ref:i},e.createElement(oe,{background:t,borderRadius:"200",padding:"100"},n)):null,e.createElement(oe,{ref:r,width:"100%"},e.createElement(ae,{gap:"200"},e.createElement("div",null,l),s)))),e.createElement("div",{ref:d,className:Ze.DismissIcon},a)))}function es({backgroundColor:t,textColor:n,bannerTitle:s,bannerIcon:a,actionButtons:l,dismissButton:c,children:u}){return e.createElement(oe,{width:"100%",background:t,padding:"200",borderRadius:"200",color:n},e.createElement(Q,{align:"space-between",blockAlign:"start",wrap:!1,gap:"200"},e.createElement(Q,{gap:"150",wrap:!1},a,e.createElement(oe,{width:"100%"},e.createElement(ae,{gap:"200"},e.createElement(ae,{gap:"050"},s,e.createElement("div",null,u)),l))),c))}var ts={InlineGrid:"Polaris-InlineGrid"};function ns({children:t,columns:n,gap:s,alignItems:a}){const l={...mn("inline-grid","grid-template-columns",as(n)),...Ye("inline-grid","gap","space",s),"--pc-inline-grid-align-items":a};return e.createElement("div",{className:ts.InlineGrid,style:hn(l)},t)}function as(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.fromEntries(Object.entries(t).map(([n,s])=>[n,Jt(s)])):Jt(t)}function Jt(t){if(t)return typeof t=="number"||!isNaN(Number(t))?`repeat(${Number(t)}, minmax(0, 1fr))`:typeof t=="string"?t:t.map(n=>{switch(n){case"oneThird":return"minmax(0, 1fr)";case"oneHalf":return"minmax(0, 1fr)";case"twoThirds":return"minmax(0, 2fr)"}}).join(" ")}const ss=o.createContext(void 0);var rs={Divider:"Polaris-Divider"};const ot=({borderColor:t="border-secondary",borderWidth:n="025"})=>{const s=t==="transparent"?t:`var(--p-color-${t})`;return e.createElement("hr",{className:rs.Divider,style:{borderBlockStart:`var(--p-border-width-${n}) solid ${s}`}})};function Zn(t=""){const n=t.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)}const os=["dragover","dragenter","drop"];function is(t,n){return t.type==="application/x-moz-file"||ls(t,n)}function Yt(t){if(cs(t)&&t.dataTransfer){const n=t.dataTransfer;if(n.files&&n.files.length)return Array.from(n.files);if(n.items&&n.items.length)return Array.from(n.items)}else if(us(t)&&t.target.files)return Array.from(t.target.files);return[]}function ls(t,n){if(t&&n){const s=t.name||"",a=t.type||"",l=a.replace(/\/.*$/,"");return(Array.isArray(n)?n:n.split(",")).some(u=>{const r=u.trim();return r.startsWith(".")?s.toLowerCase().endsWith(r.toLowerCase()):r.endsWith("/*")?l===r.replace(/\/.*$/,""):a===r})}return!0}function cs(t){return os.indexOf(t.type)>0}function us(t){return Object.prototype.hasOwnProperty.call(t,"target")}const Hn=!0;function Vn(t){return t?"allowMultiple":"single"}const zn=o.createContext({disabled:!1,focused:!1,size:"extraLarge",type:"file",measuring:!1,allowMultiple:Hn});var Se={DropZone:"Polaris-DropZone",focused:"Polaris-DropZone--focused",noOutline:"Polaris-DropZone--noOutline",hasOutline:"Polaris-DropZone--hasOutline",isDisabled:"Polaris-DropZone--isDisabled",isDragging:"Polaris-DropZone--isDragging",sizeLarge:"Polaris-DropZone--sizeLarge",sizeMedium:"Polaris-DropZone--sizeMedium",sizeSmall:"Polaris-DropZone--sizeSmall",measuring:"Polaris-DropZone--measuring",Container:"Polaris-DropZone__Container",Overlay:"Polaris-DropZone__Overlay",hasError:"Polaris-DropZone--hasError"},Ke={FileUpload:"Polaris-DropZone-FileUpload",large:"Polaris-DropZone-FileUpload--large",small:"Polaris-DropZone-FileUpload--small",UploadIcon:"Polaris-DropZone-FileUpload__UploadIcon",disabled:"Polaris-DropZone-FileUpload--disabled"};function ds(t){const n=xe(),{size:s,measuring:a,type:l,disabled:c,allowMultiple:u}=o.useContext(zn),r=Zn(l),i=Vn(u),{actionTitle:d=n.translate(`Polaris.DropZone.${i}.actionTitle${r}`),actionHint:f}=t,m=e.createElement(de,{disabled:c},d),b=O(Ke.FileUpload,a&&Ke.measuring,s==="large"&&Ke.large,s==="small"&&Ke.small),E=f&&e.createElement(W,{variant:"bodySm",as:"p",tone:"subdued"},f);let g;switch(s){case"large":case"medium":g=e.createElement(ae,{inlineAlign:"center",gap:"200"},m,E);break;case"small":g=e.createElement("div",{className:O(Ke.UploadIcon,c&&Ke.disabled)},e.createElement(ve,{source:Ft}));break}return e.createElement("div",{className:b},g)}const Pt=function({dropOnPage:n,label:s,labelAction:a,labelHidden:l,children:c,disabled:u=!1,outline:r=!0,accept:i,active:d,overlay:f=!0,allowMultiple:m=Hn,overlayText:b,errorOverlayText:E,id:g,type:T="file",onClick:v,error:y,openFileDialog:S,variableHeight:F,onFileDialogClose:A,customValidator:P,onDrop:k,onDropAccepted:j,onDropRejected:D,onDragEnter:z,onDragOver:$,onDragLeave:Z}){const G=o.useRef(null),Y=o.useRef(null),_=o.useRef([]),q=o.useCallback(Tn(()=>{if(!G.current)return;if(F){me(!1);return}let I="large";const U=G.current.getBoundingClientRect().width;U<100?I="small":U<160&&(I="medium"),Ce(I),fe&&me(!1)},50,{trailing:!0}),[]),[H,te]=o.useState(!1),[ie,le]=o.useState(!1),{value:V,setTrue:ee,setFalse:ce}=gn(!1),[se,Ce]=o.useState("large"),[fe,me]=o.useState(!0),Te=xe(),he=o.useCallback(I=>{const U=[],ne=[];return Array.from(I).forEach(re=>{!is(re,i)||P&&!P(re)?ne.push(re):U.push(re)}),m||(U.splice(1,U.length),ne.push(...U.slice(1))),{files:I,acceptedFiles:U,rejectedFiles:ne}},[i,m,P]),Pe=o.useCallback(I=>{if(it(I),u)return;const U=Yt(I),{files:ne,acceptedFiles:re,rejectedFiles:Ne}=he(U);_.current=[],te(!1),le(Ne.length>0),k&&k(ne,re,Ne),j&&re.length&&j(re),D&&Ne.length&&D(Ne),I.target&&"value"in I.target&&(I.target.value="")},[u,he,k,j,D]),we=o.useCallback(I=>{if(it(I),u)return;const U=Yt(I);if(I.target&&!_.current.includes(I.target)&&_.current.push(I.target),H)return;const{rejectedFiles:ne}=he(U);te(!0),le(ne.length>0),z&&z()},[u,H,he,z]),Ie=o.useCallback(I=>{it(I),!u&&$&&$()},[u,$]),x=o.useCallback(I=>{I.preventDefault(),!u&&(_.current=_.current.filter(U=>{const ne=n&&!mt?document:G.current;return U!==I.target&&ne&&ne.contains(U)}),!(_.current.length>0)&&(te(!1),le(!1),Z&&Z()))},[n,u,Z]),M=n&&!mt?document:G.current;Be("drop",Pe,M),Be("dragover",Ie,M),Be("dragenter",we,M),Be("dragleave",x,M),Be("resize",q,mt?null:window),En(()=>{q()});const h=o.useId(),w=g??h,B=Zn(T),K=Vn(m),X=b===void 0?Te.translate(`Polaris.DropZone.${K}.overlayText${B}`):b,L=E===void 0?Te.translate(`Polaris.DropZone.errorOverlayText${B}`):E,J=s||Te.translate(`Polaris.DropZone.${K}.label${B}`),ue=s?l:!0,Le=O(Se.DropZone,r&&Se.hasOutline,!r&&Se.noOutline,V&&Se.focused,(d||H)&&Se.isDragging,u&&Se.isDisabled,(ie||y)&&Se.hasError,!F&&Se[tt("size",se)],fe&&Se.measuring),be=(d||H)&&!ie&&!y&&f&&C(Ft,X),Oe=H&&(ie||y)&&C(oa,L,"critical"),pt=o.useMemo(()=>({disabled:u,focused:V,size:se,type:T||"file",measuring:fe,allowMultiple:m}),[u,V,fe,se,T,m]),Ve=o.useCallback(()=>{Y.current&&Y.current.click()},[Y]),nt=o.useCallback(()=>{Ve(),A==null||A()},[Ve,A]);function C(I,U,ne){return e.createElement("div",{className:Se.Overlay},e.createElement(ae,{gap:"200",inlineAlign:"center"},se==="small"&&e.createElement(ve,{source:I,tone:ne}),(se==="medium"||se==="large")&&e.createElement(W,{variant:"bodySm",as:"p",fontWeight:"bold"},U)))}function N(I){if(!u)return v?v(I):Ve()}return o.useEffect(()=>{S&&nt()},[S,nt]),e.createElement(zn.Provider,{value:pt},e.createElement(ra,{id:w,label:J,action:a,labelHidden:ue},e.createElement("div",{ref:G,className:Le,"aria-disabled":u,onClick:N,onDragStart:it},be,Oe,e.createElement(W,{variant:"bodySm",as:"span",visuallyHidden:!0},e.createElement("input",{id:w,accept:i,disabled:u,multiple:m,onChange:Pe,onFocus:ee,onBlur:ce,type:"file",ref:Y,autoComplete:"off"})),e.createElement("div",{className:Se.Container},c))))};function it(t){t.preventDefault(),t.stopPropagation()}Pt.FileUpload=ds;const fs=o.memo(function({children:n,disabled:s,root:a}){return o.useEffect(()=>{if(s||!a)return;const l=ps(a)?a.current:a;!l||l.querySelector("[autofocus]")||De(l,!1)},[s,a]),e.createElement(e.Fragment,null,n)});function ps(t){return t.current!==void 0}function Bt({acceptCharset:t,action:n,autoComplete:s,children:a,encType:l,implicitSubmit:c=!0,method:u="post",name:r,noValidate:i,preventDefault:d=!0,target:f,onSubmit:m}){const b=xe(),E=o.useCallback(v=>{d&&(v.preventDefault(),m(v))},[m,d]),g=ms(s),T=c?e.createElement(W,{as:"span",visuallyHidden:!0},e.createElement("button",{type:"submit","aria-hidden":"true",tabIndex:-1},b.translate("Polaris.Common.submit"))):null;return e.createElement("form",{acceptCharset:t,action:n,autoComplete:g,encType:l,method:u,name:r,noValidate:i,target:f,onSubmit:E},T,a)}function ms(t){return t==null?t:t?"on":"off"}function ut(){return ut=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ut.apply(null,arguments)}function Rt(t,n){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(n.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function kt(t,n){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},kt(t,n)}function Wt(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,kt(t,n)}function hs(t,n){return t.classList?!!n&&t.classList.contains(n):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+n+" ")!==-1}function bs(t,n){t.classList?t.classList.add(n):hs(t,n)||(typeof t.className=="string"?t.className=t.className+" "+n:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+n))}function Qt(t,n){return t.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function gs(t,n){t.classList?t.classList.remove(n):typeof t.className=="string"?t.className=Qt(t.className,n):t.setAttribute("class",Qt(t.className&&t.className.baseVal||"",n))}const en={disabled:!1},dt=e.createContext(null);var Kn=function(n){return n.scrollTop},Qe="unmounted",We="exited",$e="entering",qe="entered",St="exiting",Fe=function(t){Wt(n,t);function n(a,l){var c;c=t.call(this,a,l)||this;var u=l,r=u&&!u.isMounting?a.enter:a.appear,i;return c.appearStatus=null,a.in?r?(i=We,c.appearStatus=$e):i=qe:a.unmountOnExit||a.mountOnEnter?i=Qe:i=We,c.state={status:i},c.nextCallback=null,c}n.getDerivedStateFromProps=function(l,c){var u=l.in;return u&&c.status===Qe?{status:We}:null};var s=n.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(l){var c=null;if(l!==this.props){var u=this.state.status;this.props.in?u!==$e&&u!==qe&&(c=$e):(u===$e||u===qe)&&(c=St)}this.updateStatus(!1,c)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var l=this.props.timeout,c,u,r;return c=u=r=l,l!=null&&typeof l!="number"&&(c=l.exit,u=l.enter,r=l.appear!==void 0?l.appear:u),{exit:c,enter:u,appear:r}},s.updateStatus=function(l,c){if(l===void 0&&(l=!1),c!==null)if(this.cancelNextCallback(),c===$e){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:at.findDOMNode(this);u&&Kn(u)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===We&&this.setState({status:Qe})},s.performEnter=function(l){var c=this,u=this.props.enter,r=this.context?this.context.isMounting:l,i=this.props.nodeRef?[r]:[at.findDOMNode(this),r],d=i[0],f=i[1],m=this.getTimeouts(),b=r?m.appear:m.enter;if(!l&&!u||en.disabled){this.safeSetState({status:qe},function(){c.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:$e},function(){c.props.onEntering(d,f),c.onTransitionEnd(b,function(){c.safeSetState({status:qe},function(){c.props.onEntered(d,f)})})})},s.performExit=function(){var l=this,c=this.props.exit,u=this.getTimeouts(),r=this.props.nodeRef?void 0:at.findDOMNode(this);if(!c||en.disabled){this.safeSetState({status:We},function(){l.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:St},function(){l.props.onExiting(r),l.onTransitionEnd(u.exit,function(){l.safeSetState({status:We},function(){l.props.onExited(r)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(l,c){c=this.setNextCallback(c),this.setState(l,c)},s.setNextCallback=function(l){var c=this,u=!0;return this.nextCallback=function(r){u&&(u=!1,c.nextCallback=null,l(r))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},s.onTransitionEnd=function(l,c){this.setNextCallback(c);var u=this.props.nodeRef?this.props.nodeRef.current:at.findDOMNode(this),r=l==null&&!this.props.addEndListener;if(!u||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=i[0],f=i[1];this.props.addEndListener(d,f)}l!=null&&setTimeout(this.nextCallback,l)},s.render=function(){var l=this.state.status;if(l===Qe)return null;var c=this.props,u=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var r=Rt(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return e.createElement(dt.Provider,{value:null},typeof u=="function"?u(l,r):e.cloneElement(e.Children.only(u),r))},n}(e.Component);Fe.contextType=dt;Fe.propTypes={};function Ge(){}Fe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ge,onEntering:Ge,onEntered:Ge,onExit:Ge,onExiting:Ge,onExited:Ge};Fe.UNMOUNTED=Qe;Fe.EXITED=We;Fe.ENTERING=$e;Fe.ENTERED=qe;Fe.EXITING=St;var vs=function(n,s){return n&&s&&s.split(" ").forEach(function(a){return bs(n,a)})},Et=function(n,s){return n&&s&&s.split(" ").forEach(function(a){return gs(n,a)})},$t=function(t){Wt(n,t);function n(){for(var a,l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return a=t.call.apply(t,[this].concat(c))||this,a.appliedClasses={appear:{},enter:{},exit:{}},a.onEnter=function(r,i){var d=a.resolveArguments(r,i),f=d[0],m=d[1];a.removeClasses(f,"exit"),a.addClass(f,m?"appear":"enter","base"),a.props.onEnter&&a.props.onEnter(r,i)},a.onEntering=function(r,i){var d=a.resolveArguments(r,i),f=d[0],m=d[1],b=m?"appear":"enter";a.addClass(f,b,"active"),a.props.onEntering&&a.props.onEntering(r,i)},a.onEntered=function(r,i){var d=a.resolveArguments(r,i),f=d[0],m=d[1],b=m?"appear":"enter";a.removeClasses(f,b),a.addClass(f,b,"done"),a.props.onEntered&&a.props.onEntered(r,i)},a.onExit=function(r){var i=a.resolveArguments(r),d=i[0];a.removeClasses(d,"appear"),a.removeClasses(d,"enter"),a.addClass(d,"exit","base"),a.props.onExit&&a.props.onExit(r)},a.onExiting=function(r){var i=a.resolveArguments(r),d=i[0];a.addClass(d,"exit","active"),a.props.onExiting&&a.props.onExiting(r)},a.onExited=function(r){var i=a.resolveArguments(r),d=i[0];a.removeClasses(d,"exit"),a.addClass(d,"exit","done"),a.props.onExited&&a.props.onExited(r)},a.resolveArguments=function(r,i){return a.props.nodeRef?[a.props.nodeRef.current,r]:[r,i]},a.getClassNames=function(r){var i=a.props.classNames,d=typeof i=="string",f=d&&i?i+"-":"",m=d?""+f+r:i[r],b=d?m+"-active":i[r+"Active"],E=d?m+"-done":i[r+"Done"];return{baseClassName:m,activeClassName:b,doneClassName:E}},a}var s=n.prototype;return s.addClass=function(l,c,u){var r=this.getClassNames(c)[u+"ClassName"],i=this.getClassNames("enter"),d=i.doneClassName;c==="appear"&&u==="done"&&d&&(r+=" "+d),u==="active"&&l&&Kn(l),r&&(this.appliedClasses[c][u]=r,vs(l,r))},s.removeClasses=function(l,c){var u=this.appliedClasses[c],r=u.base,i=u.active,d=u.done;this.appliedClasses[c]={},r&&Et(l,r),i&&Et(l,i),d&&Et(l,d)},s.render=function(){var l=this.props;l.classNames;var c=Rt(l,["classNames"]);return e.createElement(Fe,ut({},c,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(e.Component);$t.defaultProps={classNames:""};$t.propTypes={};function Es(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ut(t,n){var s=function(c){return n&&o.isValidElement(c)?n(c):c},a=Object.create(null);return t&&o.Children.map(t,function(l){return l}).forEach(function(l){a[l.key]=s(l)}),a}function xs(t,n){t=t||{},n=n||{};function s(f){return f in n?n[f]:t[f]}var a=Object.create(null),l=[];for(var c in t)c in n?l.length&&(a[c]=l,l=[]):l.push(c);var u,r={};for(var i in n){if(a[i])for(u=0;u<a[i].length;u++){var d=a[i][u];r[a[i][u]]=s(d)}r[i]=s(i)}for(u=0;u<l.length;u++)r[l[u]]=s(l[u]);return r}function He(t,n,s){return s[n]!=null?s[n]:t.props[n]}function Cs(t,n){return Ut(t.children,function(s){return o.cloneElement(s,{onExited:n.bind(null,s),in:!0,appear:He(s,"appear",t),enter:He(s,"enter",t),exit:He(s,"exit",t)})})}function Ts(t,n,s){var a=Ut(t.children),l=xs(n,a);return Object.keys(l).forEach(function(c){var u=l[c];if(o.isValidElement(u)){var r=c in n,i=c in a,d=n[c],f=o.isValidElement(d)&&!d.props.in;i&&(!r||f)?l[c]=o.cloneElement(u,{onExited:s.bind(null,u),in:!0,exit:He(u,"exit",t),enter:He(u,"enter",t)}):!i&&r&&!f?l[c]=o.cloneElement(u,{in:!1}):i&&r&&o.isValidElement(d)&&(l[c]=o.cloneElement(u,{onExited:s.bind(null,u),in:d.props.in,exit:He(u,"exit",t),enter:He(u,"enter",t)}))}}),l}var ys=Object.values||function(t){return Object.keys(t).map(function(n){return t[n]})},Ps={component:"div",childFactory:function(n){return n}},Zt=function(t){Wt(n,t);function n(a,l){var c;c=t.call(this,a,l)||this;var u=c.handleExited.bind(Es(c));return c.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},c}var s=n.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(l,c){var u=c.children,r=c.handleExited,i=c.firstRender;return{children:i?Cs(l,r):Ts(l,u,r),firstRender:!1}},s.handleExited=function(l,c){var u=Ut(this.props.children);l.key in u||(l.props.onExited&&l.props.onExited(c),this.mounted&&this.setState(function(r){var i=ut({},r.children);return delete i[l.key],{children:i}}))},s.render=function(){var l=this.props,c=l.component,u=l.childFactory,r=Rt(l,["component","childFactory"]),i=this.state.contextValue,d=ys(this.state.children).map(u);return delete r.appear,delete r.enter,delete r.exit,c===null?e.createElement(dt.Provider,{value:i},d):e.createElement(dt.Provider,{value:i},e.createElement(c,r,d))},n}(e.Component);Zt.propTypes={};Zt.defaultProps=Ps;var xt={Body:"Polaris-Modal__Body",NoScrollBody:"Polaris-Modal__NoScrollBody",IFrame:"Polaris-Modal__IFrame"},tn={Section:"Polaris-Modal-Section",titleHidden:"Polaris-Modal-Section--titleHidden"};function Gn({children:t,flush:n=!1,subdued:s=!1,titleHidden:a=!1}){const l=O(tn.Section,a&&tn.titleHidden);return e.createElement("div",{className:l},e.createElement(oe,Object.assign({as:"section",padding:n?"0":"400"},a&&{paddingInlineEnd:"0"},s&&{background:"bg-surface-tertiary"}),t))}var pe={Container:"Polaris-Modal-Dialog__Container",Dialog:"Polaris-Modal-Dialog",Modal:"Polaris-Modal-Dialog__Modal",limitHeight:"Polaris-Modal-Dialog--limitHeight",sizeSmall:"Polaris-Modal-Dialog--sizeSmall",sizeLarge:"Polaris-Modal-Dialog--sizeLarge",sizeFullScreen:"Polaris-Modal-Dialog--sizeFullScreen",animateFadeUp:"Polaris-Modal-Dialog--animateFadeUp",entering:"Polaris-Modal-Dialog--entering",exiting:"Polaris-Modal-Dialog--exiting",exited:"Polaris-Modal-Dialog--exited",entered:"Polaris-Modal-Dialog--entered"};function ks({trapping:t}){const n=o.useContext(xa),s=o.useId();if(!n)throw new vn("No FocusManager was provided.");const{trapFocusList:a,add:l,remove:c}=n,u=a[0]===s,r=o.useMemo(()=>({canSafelyFocus:u}),[u]);return o.useEffect(()=>{if(t)return l(s),()=>{c(s)}},[l,s,c,t]),r}function Ss({trapping:t=!0,children:n}){const{canSafelyFocus:s}=ks({trapping:t}),a=o.useRef(null),[l,c]=o.useState(!0);o.useEffect(()=>{const i=s&&!(a.current&&a.current.contains(document.activeElement))?!t:!0;c(i)},[s,t]);const u=i=>{const d=a.current&&a.current.contains(document.activeElement);t===!1||!a.current||d||i.target instanceof Element&&i.target.matches(`${Ta.selector} *`)||s&&i.target instanceof HTMLElement&&a.current!==i.target&&!a.current.contains(i.target)&&De(a.current)},r=i=>{if(t===!1||!a.current)return;const d=ia(a.current),f=la(a.current);i.target===f&&!i.shiftKey&&(i.preventDefault(),ca(a.current)),i.target===d&&i.shiftKey&&(i.preventDefault(),ua(a.current))};return e.createElement(fs,{disabled:l,root:a.current},e.createElement("div",{ref:a},e.createElement(Ca,{event:"focusin",handler:u}),e.createElement(Xe,{keyCode:Je.Tab,keyEvent:"keydown",handler:r}),n))}function Ms({instant:t,labelledBy:n,children:s,limitHeight:a,size:l,onClose:c,onExited:u,onEntered:r,setClosing:i,hasToasts:d,...f}){const m=ya(),b=o.useRef(null),E=o.useContext(ss);let g;E&&(g=E.toastMessages);const T=O(pe.Modal,l&&pe[tt("size",l)],a&&pe.limitHeight),v=t?Fe:Is;o.useEffect(()=>{b.current&&!b.current.contains(document.activeElement)&&De(b.current)},[]);const y=()=>{i&&i(!0)},S=()=>{i&&i(!1),c()},F=e.createElement("div",{"aria-live":"assertive"},g?g.map(A=>e.createElement(W,{visuallyHidden:!0,as:"p",key:A.id},A.content)):null);return e.createElement(v,Object.assign({},f,{nodeRef:b,mountOnEnter:!0,unmountOnExit:!0,timeout:parseInt(m.motion["motion-duration-200"],10),onEntered:r,onExited:u}),e.createElement("div",{className:pe.Container,"data-polaris-layer":!0,"data-polaris-overlay":!0,ref:b},e.createElement(Ss,null,e.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":n,"aria-labelledby":n,tabIndex:-1,className:pe.Dialog},e.createElement("div",{className:T},e.createElement(Xe,{keyCode:Je.Escape,keyEvent:"keydown",handler:y}),e.createElement(Xe,{keyCode:Je.Escape,handler:S}),s),F))))}const ws={appear:O(pe.animateFadeUp,pe.entering),appearActive:O(pe.animateFadeUp,pe.entered),enter:O(pe.animateFadeUp,pe.entering),enterActive:O(pe.animateFadeUp,pe.entered),exit:O(pe.animateFadeUp,pe.exiting),exitActive:O(pe.animateFadeUp,pe.exited)};function Is({children:t,...n}){return e.createElement($t,Object.assign({},n,{classNames:ws}),t)}function nn({pressed:t,onClick:n}){const s=xe();return e.createElement(de,{variant:"tertiary",pressed:t,icon:Lt,onClick:n,accessibilityLabel:s.translate("Polaris.Common.close")})}function Ns({id:t,children:n,closing:s,titleHidden:a,onClose:l}){const c="400",u="400";return a||!n?e.createElement(oe,{position:"absolute",insetInlineEnd:c,insetBlockStart:u,zIndex:"1"},e.createElement(nn,{onClick:l})):e.createElement(oe,{paddingBlockStart:"400",paddingBlockEnd:"400",paddingInlineStart:c,paddingInlineEnd:c,borderBlockEndWidth:"025",borderColor:"border",background:"bg-surface-tertiary"},e.createElement(ns,{columns:{xs:"1fr auto"},gap:"400"},e.createElement(Q,{gap:"400",blockAlign:"center"},e.createElement(W,{id:t,as:"h2",variant:"headingMd",breakWord:!0},n)),e.createElement(nn,{pressed:s,onClick:l})))}function As({primaryAction:t,secondaryActions:n,children:s}){const a=t&&Vt(t,{variant:"primary"})||null,l=n&&Vt(n)||null,c=a||l?e.createElement(Q,{gap:"200"},l,a):null;return e.createElement(Q,{gap:"400",blockAlign:"center"},e.createElement(oe,{borderColor:"border",borderBlockStartWidth:"025",padding:"400",width:"100%"},e.createElement(Q,{gap:"400",blockAlign:"center",align:"space-between"},e.createElement(oe,null,s),c)))}const an=200,Ds=400,Me=function({children:n,title:s,titleHidden:a=!1,src:l,iFrameName:c,open:u,instant:r,sectioned:i,loading:d,size:f,limitHeight:m,footer:b,primaryAction:E,secondaryActions:g,onScrolledToBottom:T,activator:v,activatorWrapper:y="div",onClose:S,onIFrameLoad:F,onTransitionEnd:A,noScroll:P}){const[k,j]=o.useState(an),[D,z]=o.useState(!1),$=o.useId(),Z=o.useRef(null),Y=xe().translate("Polaris.Modal.iFrameTitle");let _,q;const H=o.useCallback(()=>{A&&A()},[A]),te=o.useCallback(()=>{j(an);const ee=v&&sn(v)?v&&v.current:Z.current;ee&&requestAnimationFrame(()=>De(ee))},[v]),ie=o.useCallback(ee=>{const ce=ee.target;if(ce&&ce.contentWindow)try{j(ce.contentWindow.document.body.scrollHeight)}catch{j(Ds)}F!=null&&F(ee)},[F]);if(u){const ee=!b&&!E&&!g?null:e.createElement(As,{primaryAction:E,secondaryActions:g},b),ce=i?da(n,Gn,{titleHidden:a}):n,se=d?e.createElement(oe,{padding:"400"},e.createElement(Q,{gap:"400",align:"center",blockAlign:"center"},e.createElement(bn,null))):ce,Ce=P?e.createElement("div",{className:xt.NoScrollBody},e.createElement(oe,{width:"100%",overflowX:"hidden",overflowY:"hidden"},se)):e.createElement(pa,{shadow:!0,className:xt.Body,onScrolledToBottom:T},se),fe=l?e.createElement("iframe",{name:c,title:Y,src:l,className:xt.IFrame,onLoad:ie,style:{height:`${k}px`}}):Ce;_=e.createElement(Ms,{instant:r,labelledBy:$,onClose:S,onEntered:H,onExited:te,size:f,limitHeight:m,setClosing:z},e.createElement(Ns,{titleHidden:a,id:$,closing:D,onClose:S},s),fe,ee),q=e.createElement(Ga,{setClosing:z,onClick:S})}const le=!r,V=v&&!sn(v)?e.createElement(oe,{ref:Z,as:y},v):null;return e.createElement(It.Provider,{value:!0},V,e.createElement(fa,{idPrefix:"modal"},e.createElement(Zt,{appear:le,enter:le,exit:le},_),q))};function sn(t){return Object.prototype.hasOwnProperty.call(t,"current")}Me.Section=Gn;function Fs(){const[t,n]=o.useState(!1),s=o.useCallback(()=>n(!0),[]);return Be("touchstart",s),t}function rn(t){const n=o.useRef();return o.useEffect(()=>{n.current=t},[t]),n.current}function on(t,n,s,a,l){const c=a.reduce((d,f)=>d+f,0),u=t.map((d,f)=>f),r=[],i=[];if(l>c)r.push(...u);else{r.push(n);let d=a[n];u.forEach(f=>{if(f!==n){const m=a[f];if(d+m>=l-s){i.push(f);return}r.push(f),d+=m}})}return{visibleTabs:r,hiddenTabs:i}}var R={Outer:"Polaris-Tabs__Outer",Wrapper:"Polaris-Tabs__Wrapper",WrapperWithNewButton:"Polaris-Tabs__WrapperWithNewButton",ButtonWrapper:"Polaris-Tabs__ButtonWrapper",Tabs:"Polaris-Tabs",Tab:"Polaris-Tabs__Tab","Tab-active":"Polaris-Tabs__Tab--active","Tab-hasActions":"Polaris-Tabs__Tab--hasActions","Tab-iconOnly":"Polaris-Tabs__Tab--iconOnly",fillSpace:"Polaris-Tabs--fillSpace",TabContainer:"Polaris-Tabs__TabContainer",fitted:"Polaris-Tabs--fitted",List:"Polaris-Tabs__List",Item:"Polaris-Tabs__Item",DisclosureTab:"Polaris-Tabs__DisclosureTab","DisclosureTab-visible":"Polaris-Tabs__DisclosureTab--visible",DisclosureActivator:"Polaris-Tabs__DisclosureActivator",TabsMeasurer:"Polaris-Tabs__TabsMeasurer",NewTab:"Polaris-Tabs__NewTab",ActionListWrap:"Polaris-Tabs__ActionListWrap",Panel:"Polaris-Tabs__Panel","Panel-hidden":"Polaris-Tabs__Panel--hidden"};const Ct=40;function Ls({open:t,isModalLoading:n,name:s,onClose:a,onClickPrimaryAction:l,onClickSecondaryAction:c,helpText:u,viewNames:r}){const i=xe(),[d,f]=o.useState(s),m=o.useRef(null),b=r==null?void 0:r.some(y=>y.trim().toLowerCase()===d.trim().toLowerCase()),E=n||b||!d||d.length>Ct;o.useEffect(()=>{m.current&&t&&De(m.current)},[t]),o.useEffect(()=>{t&&f(s.slice(0,Ct))},[s,t]);const g=o.useCallback(y=>{f(y)},[]);async function T(){E||(await l(d),f(""),a())}function v(){c==null||c(),f(s),a()}return e.createElement(Me,{open:t,onClose:a,title:i.translate("Polaris.Tabs.DuplicateModal.title"),primaryAction:{content:i.translate("Polaris.Tabs.DuplicateModal.create"),onAction:T,disabled:E},secondaryActions:[{content:i.translate("Polaris.Tabs.DuplicateModal.cancel"),onAction:v}],instant:!0},e.createElement(Me.Section,null,e.createElement(Bt,{onSubmit:T},e.createElement(Nt,null,e.createElement("div",{ref:m},e.createElement(Ee,{label:i.translate("Polaris.Tabs.DuplicateModal.label"),value:d,onChange:g,autoComplete:"off",helpText:u,maxLength:Ct,showCharacterCount:!0,error:b?i.translate("Polaris.Tabs.DuplicateModal.errors.sameName",{name:d}):void 0}))))))}function Os({open:t,isModalLoading:n,name:s,onClose:a,onClickPrimaryAction:l,onClickSecondaryAction:c,helpText:u,viewNames:r}){const i=xe(),[d,f]=o.useState(s),m=o.useRef(null),b=r==null?void 0:r.filter(y=>y!==s).some(y=>y.trim().toLowerCase()===d.trim().toLowerCase()),E=n||b||d===s||!d;o.useEffect(()=>{m.current&&t&&De(m.current)},[t]),o.useEffect(()=>{t&&f(s)},[s,t]);const g=o.useCallback(y=>{f(y)},[]);async function T(){E||(await l(d),f(""),a())}function v(){c==null||c(),f(s),a()}return e.createElement(Me,{open:t,onClose:a,title:i.translate("Polaris.Tabs.RenameModal.title"),primaryAction:{content:i.translate("Polaris.Tabs.RenameModal.create"),onAction:T,disabled:E},secondaryActions:[{content:i.translate("Polaris.Tabs.RenameModal.cancel"),onAction:v}],instant:!0},e.createElement(Me.Section,null,e.createElement(Bt,{onSubmit:T},e.createElement(Nt,null,e.createElement("div",{ref:m},e.createElement(Ee,{label:i.translate("Polaris.Tabs.RenameModal.label"),value:d,onChange:g,autoComplete:"off",helpText:u,maxLength:40,showCharacterCount:!0,error:b?i.translate("Polaris.Tabs.RenameModal.errors.sameName",{name:d}):void 0}))))))}const ft=o.forwardRef(({content:t,accessibilityLabel:n,badge:s,id:a,panelID:l,url:c,onAction:u,actions:r,disabled:i,isModalLoading:d,icon:f,siblingTabHasFocus:m,measuring:b,focused:E,selected:g,onToggleModal:T,onTogglePopover:v,viewNames:y,tabIndexOverride:S,onFocus:F},A)=>{const P=xe(),[k,j]=o.useState(!1),[D,z]=o.useState(null),$=o.useRef(g),Z=o.useRef(!1),G=o.useRef(null);o.useEffect(()=>{v(k)},[k,v]),o.useEffect(()=>{T(!!D)},[D,T]),o.useEffect(()=>()=>{T(!1),v(!1)},[T,v]),o.useEffect(()=>{if(b)return;(E||document.activeElement&&document.activeElement.id===a)&&g&&l!=null&&!Z.current&&(ln(l),Z.current=!0),g&&!$.current&&l!=null?ln(l):E&&G.current!=null&&D==null&&!i&&De(G.current),$.current=g},[E,a,t,b,l,g,D,i]);let Y;g&&!m&&!b||E&&!b?Y=0:Y=-1,S!=null&&(Y=S);const _=r==null?void 0:r.find(L=>L.type==="rename"),q=r==null?void 0:r.find(L=>L.type==="duplicate"),H=r==null?void 0:r.find(L=>L.type==="delete"),te=o.useCallback(()=>{r!=null&&r.length&&j(L=>!L)},[r]),ie=o.useCallback(()=>{i||(g?te():u==null||u())},[g,u,te,i]),le=L=>{z(L)},V=()=>{z(null)},ee=o.useCallback(async L=>{var J;await((J=_==null?void 0:_.onPrimaryAction)==null?void 0:J.call(_,L)),setTimeout(()=>{G.current&&De(G.current)},250)},[_]),ce=o.useCallback(async()=>{var L;await((L=H==null?void 0:H.onPrimaryAction)==null?void 0:L.call(H,t)),V()},[H,t]),se=o.useCallback(async L=>{var J;await((J=q==null?void 0:q.onPrimaryAction)==null?void 0:J.call(q,L))},[q]),Ce={rename:{icon:Dt,content:P.translate("Polaris.Tabs.Tab.rename")},duplicate:{icon:Mn,content:P.translate("Polaris.Tabs.Tab.duplicate")},edit:{icon:wn,content:P.translate("Polaris.Tabs.Tab.edit")},"edit-columns":{icon:In,content:P.translate("Polaris.Tabs.Tab.editColumns")},delete:{icon:Sn,content:P.translate("Polaris.Tabs.Tab.delete"),destructive:!0}},fe=r==null?void 0:r.map(({type:L,onAction:J,onPrimaryAction:ue,...Le})=>{const be=!L.includes("edit");return{...Ce[L],...Le,onAction:()=>{J==null||J(t),te(),be&&le(L)}}}),me=o.useCallback(L=>{L.key===" "&&(L.preventDefault(),ie())},[ie]),Te=O(R.TabContainer,g&&R.Underline),he=i||g?void 0:c,Pe=he?Mt:Cn,we=O(R.Tab,f&&R["Tab-iconOnly"],k&&R["Tab-popoverActive"],g&&R["Tab-active"],g&&(r==null?void 0:r.length)&&R["Tab-hasActions"]),Ie=s?e.createElement(wt,{tone:g?void 0:"new"},s):null,x=g&&(r!=null&&r.length)?e.createElement("div",{className:O(R.IconWrap)},e.createElement(ve,{source:xn})):null,M=e.createElement(Pe,{id:a,className:we,tabIndex:Y,"aria-selected":g,"aria-controls":l,"aria-label":n,role:S==null?"tab":void 0,disabled:i,url:he,onFocus:F,onMouseUp:ha,onClick:ie,onKeyDown:me},e.createElement(Q,{gap:"200",align:"center",blockAlign:"center",wrap:!1},e.createElement(W,{as:"span",variant:"bodySm",fontWeight:"medium"},f??t),Ie),x),h=!g||!(r!=null&&r.length),w=_?e.createElement(Os,{name:t,open:D==="rename",onClose:V,onClickPrimaryAction:ee,isModalLoading:d,viewNames:y}):null,B=q?e.createElement(Ls,{open:D==="duplicate",name:P.translate("Polaris.Tabs.Tab.copy",{name:t}),onClose:V,onClickPrimaryAction:se,isModalLoading:d,viewNames:y||[]}):null,K=H?e.createElement(Me,{open:D==="delete",onClose:V,primaryAction:{content:P.translate("Polaris.Tabs.Tab.deleteModal.delete"),onAction:ce,destructive:!0,disabled:d},secondaryActions:[{content:P.translate("Polaris.Tabs.Tab.deleteModal.cancel"),onAction:V}],title:P.translate("Polaris.Tabs.Tab.deleteModal.title"),instant:!0},e.createElement(Me.Section,null,P.translate("Polaris.Tabs.Tab.deleteModal.description",{viewName:t}))):null,X=h||i?M:e.createElement(e.Fragment,null,e.createElement(ct,{active:k,activator:M,autofocusTarget:"first-node",onClose:te},e.createElement("div",{className:R.ActionListWrap},e.createElement(ma,{actionRole:"menuitem",items:fe}))),w,B,K);return f?X:e.createElement("li",{className:Te,ref:js([G,A]),role:"presentation"},X)});ft.displayName="Tab";function ln(t){const n=document.getElementById(t);n&&n.focus({preventScroll:!0})}function js(t){return n=>{for(const s of t)s!=null&&(s.current=n)}}const _s=o.memo(function({selected:n,tabs:s,activator:a,tabToFocus:l,siblingTabHasFocus:c,handleMeasurement:u}){const r=o.useRef(null),i=o.useRef(null),d=o.useCallback(()=>{i.current&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{if(!r.current)return;const b=r.current.offsetWidth-20-28,E=r.current.children,T=Array.from(E).map(y=>Math.ceil(y.getBoundingClientRect().width)+4),v=T.pop()||0;u({containerWidth:b,disclosureWidth:v,hiddenTabWidths:T})})},[u]);o.useEffect(()=>{d()},[d,s]),En(()=>{});const f=s.map((b,E)=>e.createElement(ft,{measuring:!0,key:`$${b.id}Hidden`,id:`${b.id}Measurer`,siblingTabHasFocus:c,focused:E===l,selected:E===n,url:b.url,content:b.content,onTogglePopover:cn,onToggleModal:cn})),m=O(R.Tabs,R.TabsMeasurer);return Be("resize",d),e.createElement("div",{className:m,ref:r},f,a)});function cn(){}function un({hidden:t,id:n,tabID:s,children:a}){const l=O(R.Panel,t&&R["Panel-hidden"]);return e.createElement("div",{className:l,id:n,role:"tabpanel","aria-labelledby":s,tabIndex:-1},a)}const Bs=o.memo(function({id:n,focused:s,children:a,url:l,accessibilityLabel:c,onClick:u=Rs}){const r=o.useRef(null);o.useEffect(()=>{r.current&&r.current instanceof HTMLElement&&s&&r.current.focus()},[r,s]);const i=O(R.Item),d={id:n,ref:r,onClick:u,className:i,"aria-selected":!1,"aria-label":c},f=l?e.createElement(Mt,Object.assign({},d,{url:l}),a):e.createElement("button",Object.assign({},d,{ref:r,type:"button"}),a);return e.createElement("li",null,f)});function Rs(){}function Ws({focusIndex:t,disclosureTabs:n,onClick:s=dn,onKeyPress:a=dn}){const l=n.map(({id:c,content:u,...r},i)=>e.createElement(Bs,Object.assign({key:c},r,{id:c,focused:i===t,onClick:s.bind(null,c)}),u));return e.createElement("ul",{className:R.List,onKeyDown:$s,onKeyUp:a},l)}function dn(){}function $s(t){const{key:n}=t;(n==="ArrowLeft"||n==="ArrowRight")&&(t.preventDefault(),t.stopPropagation())}const fn=40;function Us({activator:t,open:n,onClose:s,onClickPrimaryAction:a,onClickSecondaryAction:l,viewNames:c}){const u=xe(),[r,i]=o.useState(""),[d,f]=o.useState(!1),m=o.useRef(null),b=Fs(),E=c.some(S=>S.trim().toLowerCase()===r.trim().toLowerCase()),g=!r||E||d||r.length>fn;o.useEffect(()=>{if(!(!m.current||b)&&n){De(m.current);const S=setTimeout(()=>{m.current&&De(m.current)},50);return()=>clearTimeout(S)}},[n,b]);const T=o.useCallback(S=>{i(S)},[]);async function v(){E||g||(f(!0),await a(r),f(!1),i(""),s())}function y(){l==null||l(),i(""),s()}return e.createElement(Me,{activator:t,open:n,onClose:s,title:u.translate("Polaris.Tabs.CreateViewModal.title"),primaryAction:{content:u.translate("Polaris.Tabs.CreateViewModal.create"),onAction:v,disabled:g},secondaryActions:[{content:u.translate("Polaris.Tabs.CreateViewModal.cancel"),onAction:y}]},e.createElement(Me.Section,null,e.createElement(Bt,{onSubmit:v},e.createElement(Nt,null,e.createElement("div",{ref:m},e.createElement(Ee,{label:u.translate("Polaris.Tabs.CreateViewModal.label"),value:r,onChange:T,autoComplete:"off",maxLength:fn,showCharacterCount:!0,error:E?u.translate("Polaris.Tabs.CreateViewModal.errors.sameName",{name:r}):void 0}))))))}const Zs="create-new-view",Hs=({tabs:t,children:n,selected:s,newViewAccessibilityLabel:a,canCreateNewView:l,disabled:c,onCreateNewView:u,onSelect:r,fitted:i,disclosureText:d})=>{const f=xe(),{mdDown:m}=yn(),b=o.useRef(null),E=o.useRef(null),g=o.useRef(null),[T,v]=o.useReducer((C,N)=>({...C,...N}),{disclosureWidth:0,containerWidth:1/0,tabWidths:[],visibleTabs:[],hiddenTabs:[],showDisclosure:!1,tabToFocus:-1,isNewViewModalActive:!1,modalSubmitted:!1,isTabsFocused:!1,isTabPopoverOpen:!1,isTabModalOpen:!1}),{tabToFocus:y,visibleTabs:S,hiddenTabs:F,showDisclosure:A,isNewViewModalActive:P,modalSubmitted:k,disclosureWidth:j,tabWidths:D,containerWidth:z,isTabsFocused:$,isTabModalOpen:Z,isTabPopoverOpen:G}=T,Y=rn(Z),_=rn(G);o.useEffect(()=>{Y&&!Z?v({isTabsFocused:!0,tabToFocus:s}):_&&!G&&!Z&&v({isTabsFocused:!0,tabToFocus:s})},[_,G,Y,Z,s,y]);const q=o.useCallback(C=>v({isTabPopoverOpen:C}),[]),H=o.useCallback(C=>v({isTabModalOpen:C}),[]),te=()=>{v({isNewViewModalActive:!1})},ie=async C=>{if(!u)return!1;const N=await(u==null?void 0:u(C));return N&&v({modalSubmitted:!0}),N},le=()=>{v({isNewViewModalActive:!0})},V=o.useCallback(C=>{const N=t.find(U=>U.id===C);if(N==null)return null;const I=t.indexOf(N);r==null||r(I)},[t,r]),ee=o.useCallback((C,N)=>{const I=()=>{var re;V(C.id),(re=C.onAction)==null||re.call(C)},U=t.map(({content:re})=>re),ne=C.panelID||`${C.id}-panel`;return e.createElement(ft,Object.assign({},C,{key:`${N}-${C.id}`,id:C.id,panelID:n?ne:void 0,disabled:c||C.disabled,siblingTabHasFocus:y>-1,focused:N===y,selected:N===s,onAction:I,accessibilityLabel:C.accessibilityLabel,url:C.url,content:C.content,onToggleModal:H,onTogglePopover:q,viewNames:U,ref:N===s?g:null}))},[c,V,t,n,s,y,H,q]),ce=o.useCallback(C=>{const N=C.target,I=N.classList.contains(R.Item),U=N.closest("[data-tabs-focus-catchment]")||I;N.classList.contains(R.DisclosureActivator)||!U||v({isTabsFocused:!0})},[]),se=o.useCallback(C=>{var Ne,je,ke;const N=C.target,I=C.relatedTarget,U=(Ne=I==null?void 0:I.closest)==null?void 0:Ne.call(I,`.${R.Tabs}`),ne=(ke=(je=N==null?void 0:N.classList)==null?void 0:je.contains)==null?void 0:ke.call(je,R.Tab),re=I==null?void 0:I.classList.contains(R.Item);if(!I&&!Z&&!ne&&!re){v({tabToFocus:-1});return}if(!U&&!Z&&!ne&&!re){v({tabToFocus:-1});return}v({isTabsFocused:!1})},[Z]),Ce=C=>{if(G||Z||P)return;const{key:N}=C;(N==="ArrowLeft"||N==="ArrowRight")&&(C.preventDefault(),C.stopPropagation())};o.useEffect(()=>{const{visibleTabs:C,hiddenTabs:N}=on(t,s,j,D,z);v({visibleTabs:C,hiddenTabs:N})},[z,j,t,s,D,v]);const fe=o.useCallback(()=>{var N;const C=(N=g.current)==null?void 0:N.querySelector(`.${R["Tab-active"]}`);C&&Ie(C.offsetLeft)},[]);o.useEffect(()=>{m&&fe()},[fe,s,m]),o.useEffect(()=>{$&&!A&&v({tabToFocus:s})},[$,s,v,A]);const me=C=>{const{showDisclosure:N,visibleTabs:I,hiddenTabs:U,tabToFocus:ne,isNewViewModalActive:re}=T;if(Z||G||re)return;const Ne=C.key,je=N||m?I.concat(U):[...I];let ke=je.indexOf(ne);Ne==="ArrowRight"&&(ke+=1,ke===je.length&&(ke=0)),Ne==="ArrowLeft"&&(ke===-1||ke===0?ke=je.length-1:ke-=1);const Ht=je[ke];Ht!=null&&v({tabToFocus:Ht})},Te=()=>{v({showDisclosure:!A,tabToFocus:F[0]})},he=()=>{v({showDisclosure:!1})},Pe=o.useCallback(C=>{const{hiddenTabWidths:N,containerWidth:I,disclosureWidth:U}=C,{visibleTabs:ne,hiddenTabs:re}=on(t,s,U,N,I);v({visibleTabs:ne,hiddenTabs:re,disclosureWidth:U,containerWidth:I,tabWidths:N})},[t,s,v]),we=C=>{V(C),he(),v({isTabsFocused:!0})},Ie=C=>{setTimeout(()=>{var N,I;if(b.current&&typeof b.current.scroll=="function"){const U=((N=E==null?void 0:E.current)==null?void 0:N.offsetLeft)||0;(I=b==null?void 0:b.current)==null||I.scroll({left:C-U})}},0)},x=a||f.translate("Polaris.Tabs.newViewAccessibilityLabel"),M=m?[...S,...F]:S,h=M.sort((C,N)=>C-N).filter(C=>t[C]).map(C=>ee(t[C],C)),w=S.length<t.length&&!m,B=O(R.Tabs,i&&R.fitted,w&&R.fillSpace),K=O(R.Wrapper,l&&R.WrapperWithNewButton),X=O(R.DisclosureTab,w&&R["DisclosureTab-visible"]),L=O(R.DisclosureActivator),J=e.createElement(e.Fragment,null,e.createElement(W,{as:"span",variant:"bodySm",fontWeight:"medium"},d??f.translate("Polaris.Tabs.toggleTabsLabel")),e.createElement("div",{className:O(R.IconWrap,w&&A&&R["IconWrap-open"])},e.createElement(ve,{source:xn,tone:"subdued"}))),Le=e.createElement(Cn,{type:"button",className:L,onClick:Te,"aria-label":d??f.translate("Polaris.Tabs.toggleTabsLabel"),disabled:c},J),be=F.map(C=>t[C]),Oe=t.map(({content:C})=>C),pt=e.createElement(_s,{tabToFocus:y,activator:Le,selected:s,tabs:t,siblingTabHasFocus:y>-1,handleMeasurement:Pe}),Ve=e.createElement(ft,{id:Zs,content:x,actions:[],onAction:le,onFocus:()=>{k&&v({tabToFocus:s,modalSubmitted:!1})},icon:e.createElement(ve,{source:An,accessibilityLabel:x}),disabled:c,onTogglePopover:q,onToggleModal:H,tabIndexOverride:0}),nt=n?t.map((C,N)=>s===N?e.createElement(un,{id:t[N].panelID||`${t[N].id}-panel`,tabID:t[N].id,key:t[N].id},n):e.createElement(un,{id:t[N].panelID||`${t[N].id}-panel`,tabID:t[N].id,key:t[N].id,hidden:!0})):null;return e.createElement("div",{className:R.Outer},e.createElement(oe,{padding:{md:"200"}},pt,e.createElement("div",{className:K,ref:b},e.createElement("div",{className:R.ButtonWrapper,ref:E},e.createElement("ul",{role:h.length>0?"tablist":void 0,className:B,onFocus:ce,onBlur:se,onKeyDown:Ce,onKeyUp:me,"data-tabs-focus-catchment":!0},h,m||M.length===0?null:e.createElement("li",{className:X,role:"presentation"},e.createElement(ct,{preferredPosition:"below",preferredAlignment:"left",activator:Le,active:w&&A,onClose:he,autofocusTarget:"first-node"},e.createElement(Ws,{focusIndex:F.indexOf(y),disclosureTabs:be,onClick:we,onKeyPress:me})))),l&&M.length>0?e.createElement("div",{className:R.NewTab},e.createElement(Us,{open:P,onClose:te,onClickPrimaryAction:ie,viewNames:Oe,activator:c?Ve:e.createElement("div",null,e.createElement(ba,{content:f.translate("Polaris.Tabs.newViewTooltip"),preferredPosition:"above",hoverDelay:400},Ve))})):null))),nt)};var Tt={Thumbnail:"Polaris-Thumbnail",sizeExtraSmall:"Polaris-Thumbnail--sizeExtraSmall",sizeSmall:"Polaris-Thumbnail--sizeSmall",sizeMedium:"Polaris-Thumbnail--sizeMedium",sizeLarge:"Polaris-Thumbnail--sizeLarge",transparent:"Polaris-Thumbnail--transparent"};function pn({source:t,alt:n,size:s="medium",transparent:a}){const l=O(Tt.Thumbnail,s&&Tt[tt("size",s)],a&&Tt.transparent),c=typeof t=="string"?e.createElement(Pa,{alt:n,source:t}):e.createElement(ve,{accessibilityLabel:n,source:t});return e.createElement("span",{className:l},c)}var qn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M15.78 5.97a.75.75 0 0 1 0 1.06l-6.5 6.5a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 1 1 1.06-1.06l2.72 2.72 5.97-5.97a.75.75 0 0 1 1.06 0Z"}))};qn.displayName="CheckIcon";var et=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M11.5 8.25a.75.75 0 0 1 .75.75v4.25a.75.75 0 0 1-1.5 0v-4.25a.75.75 0 0 1 .75-.75Z"}),e.createElement("path",{d:"M9.25 9a.75.75 0 0 0-1.5 0v4.25a.75.75 0 0 0 1.5 0v-4.25Z"}),e.createElement("path",{fillRule:"evenodd",d:"M7.25 5.25a2.75 2.75 0 0 1 5.5 0h3a.75.75 0 0 1 0 1.5h-.75v5.45c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327h-.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311c-.327-.642-.327-1.482-.327-3.162v-5.45h-.75a.75.75 0 0 1 0-1.5h3Zm1.5 0a1.25 1.25 0 1 1 2.5 0h-2.5Zm-2.25 1.5h7v5.45c0 .865-.001 1.423-.036 1.848-.033.408-.09.559-.128.633a1.5 1.5 0 0 1-.655.655c-.074.038-.225.095-.633.128-.425.035-.983.036-1.848.036h-.4c-.865 0-1.423-.001-1.848-.036-.408-.033-.559-.09-.633-.128a1.5 1.5 0 0 1-.656-.655c-.037-.074-.094-.225-.127-.633-.035-.425-.036-.983-.036-1.848v-5.45Z"}))};et.displayName="DeleteIcon";var Xn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10.75 4.25a.75.75 0 0 0-1.5 0v6.69l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72v-6.69Z"}),e.createElement("path",{d:"M16.5 13.75a.75.75 0 0 0-1.5 0v.8a.75.75 0 0 1-.75.75h-8.5a.75.75 0 0 1-.75-.75v-.8a.75.75 0 0 0-1.5 0v.8a2.25 2.25 0 0 0 2.25 2.25h8.5a2.25 2.25 0 0 0 2.25-2.25v-.8Z"}))};Xn.displayName="ImportIcon";var Jn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M15.842 4.175a3.746 3.746 0 0 0-5.298 0l-2.116 2.117a3.75 3.75 0 0 0 .01 5.313l.338.336a.75.75 0 1 0 1.057-1.064l-.339-.337a2.25 2.25 0 0 1-.005-3.187l2.116-2.117a2.246 2.246 0 1 1 3.173 3.18l-1.052 1.047a.75.75 0 0 0 1.058 1.064l1.052-1.047a3.746 3.746 0 0 0 .006-5.305Zm-11.664 11.67a3.75 3.75 0 0 0 5.304 0l2.121-2.121a3.75 3.75 0 0 0 0-5.303l-.362-.362a.75.75 0 0 0-1.06 1.06l.362.362a2.25 2.25 0 0 1 0 3.182l-2.122 2.122a2.25 2.25 0 1 1-3.182-3.182l1.07-1.07a.75.75 0 1 0-1.062-1.06l-1.069 1.069a3.75 3.75 0 0 0 0 5.303Z"}))};Jn.displayName="LinkIcon";var lt=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};lt.displayName="PlusIcon";var Yn=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M12.323 13.383a5.5 5.5 0 1 1 1.06-1.06l2.897 2.897a.75.75 0 1 1-1.06 1.06l-2.897-2.897Zm.677-4.383a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"}))};Yn.displayName="SearchIcon";function Gs(){var fe,me,Te,he,Pe,we,Ie;const{products:t}=Qn(),n=ea();o.useRef(null);const[s,a]=o.useState(null),[l,c]=o.useState(""),[u,r]=o.useState(""),[i,d]=o.useState(null),[f,m]=o.useState(!1),[b,E]=o.useState(0),[g,T]=o.useState(""),[v,y]=o.useState(null),[S,F]=o.useState(null),A=n.state==="submitting"&&(((fe=n.formData)==null?void 0:fe.get("intent"))==="extract"||((me=n.formData)==null?void 0:me.get("intent"))==="extract-pdf"||((Te=n.formData)==null?void 0:Te.get("intent"))==="extract-url"),P=n.state==="submitting"&&((he=n.formData)==null?void 0:he.get("intent"))==="save",k=n.data;o.useEffect(()=>{k!=null&&k.extracted&&(d(k.extracted),k.source&&F(k.source))},[k]);const j=o.useCallback((x,M)=>{M.length>0&&y(M[0])},[]),D=()=>{if(!v)return;const x=new FormData;x.append("intent","extract-pdf"),x.append("pdf",v),n.submit(x,{method:"post",encType:"multipart/form-data"})},z=()=>{if(!g.trim())return;const x=new FormData;x.append("intent","extract-url"),x.append("url",g.trim()),n.submit(x,{method:"post"})},$=[{id:"text",content:" Paste Text"},{id:"pdf",content:" Upload PDF"},{id:"url",content:" Scrape URL"}],Z=t.map(x=>{var M;return{value:x.id,label:x.title,media:(M=x.featuredImage)!=null&&M.url?p.jsx(pn,{source:x.featuredImage.url,alt:x.featuredImage.altText||x.title,size:"small"}):void 0}}),G=o.useCallback(x=>{const M=t.find(h=>h.id===x[0]);M&&(a(M),c(M.title))},[t]),Y=(x,M)=>{if(!i)return;const h=[...i.highlights];h[x]=M,d({...i,highlights:h})},_=x=>{i&&d({...i,highlights:i.highlights.filter((M,h)=>h!==x)})},q=()=>{i&&d({...i,highlights:[...i.highlights,""]})},H=(x,M,h)=>{if(!i)return;const w=[...i.featured];w[x]={...w[x],[M]:h},d({...i,featured:w})},te=x=>{i&&d({...i,featured:i.featured.filter((M,h)=>h!==x)})},ie=()=>{i&&d({...i,featured:[...i.featured,{title:"",value:""}]})},le=(x,M,h)=>{if(!i)return;const w=[...i.included];w[x]={...w[x],[M]:h},d({...i,included:w})},V=x=>{i&&d({...i,included:i.included.filter((M,h)=>h!==x)})},ee=()=>{i&&d({...i,included:[...i.included,{title:"",link:""}]})},ce=(x,M,h,w)=>{if(!i)return;const B=[...i.specs];B[x]={...B[x],lines:B[x].lines.map((K,X)=>X===M?{...K,[h]:w}:K)},d({...i,specs:B})},se=(x,M)=>{if(!i)return;const h=[...i.specs];h[x]={...h[x],lines:h[x].lines.filter((w,B)=>B!==M)},d({...i,specs:h})},Ce=()=>{if(!s||!i)return;const x=new FormData;x.append("intent","save"),x.append("productId",s.id),x.append("content",JSON.stringify(i)),n.submit(x,{method:"post"})};return p.jsx(ga,{title:"Product Bridge",subtitle:"AI-powered product content automation",children:p.jsxs(ae,{gap:"400",children:[(k==null?void 0:k.success)&&p.jsx(ze,{title:"Metafields saved successfully!",tone:"success",onDismiss:()=>{}}),(k==null?void 0:k.error)&&p.jsx(ze,{title:"Error",tone:"critical",children:k.error}),p.jsx(st,{children:p.jsxs(ae,{gap:"400",children:[p.jsx(W,{as:"h2",variant:"headingMd",children:"Step 1: Select Product"}),p.jsx(yt,{options:Z,selected:s?[s.id]:[],onSelect:G,textField:p.jsx(yt.TextField,{onChange:c,label:"Search products",value:l,prefix:p.jsx(ve,{source:Yn}),placeholder:"Start typing to search...",autoComplete:"off"})}),s&&p.jsxs(Q,{gap:"400",align:"start",blockAlign:"center",children:[((Pe=s.featuredImage)==null?void 0:Pe.url)&&p.jsx(pn,{source:s.featuredImage.url,alt:s.title,size:"medium"}),p.jsxs(ae,{gap:"100",children:[p.jsx(W,{as:"p",variant:"bodyMd",fontWeight:"semibold",children:s.title}),p.jsxs(W,{as:"p",variant:"bodySm",tone:"subdued",children:["ID: ",s.id.replace("gid://shopify/Product/","")]})]}),p.jsx(wt,{tone:"info",children:"Selected"})]})]})}),p.jsx(st,{children:p.jsxs(ae,{gap:"400",children:[p.jsx(W,{as:"h2",variant:"headingMd",children:"Step 2: Import Product Specs"}),p.jsx(Hs,{tabs:$,selected:b,onSelect:E}),b===0&&p.jsxs(ae,{gap:"400",children:[p.jsx(Ee,{label:"Raw specs from manufacturer",multiline:8,value:u,onChange:r,placeholder:"Paste the full specification sheet from the manufacturer website...",autoComplete:"off"}),p.jsxs(n.Form,{method:"post",children:[p.jsx("input",{type:"hidden",name:"intent",value:"extract"}),p.jsx("input",{type:"hidden",name:"text",value:u}),p.jsx(de,{variant:"primary",submit:!0,loading:A,disabled:!u.trim(),children:"Extract Content with AI"})]})]}),b===1&&p.jsxs(ae,{gap:"400",children:[p.jsx(Pt,{onDrop:j,accept:".pdf,application/pdf",type:"file",allowMultiple:!1,children:v?p.jsxs(ae,{gap:"200",inlineAlign:"center",children:[p.jsx(ve,{source:Xn,tone:"success"}),p.jsx(W,{as:"p",variant:"bodyMd",fontWeight:"semibold",children:v.name}),p.jsxs(W,{as:"p",variant:"bodySm",tone:"subdued",children:[(v.size/1024/1024).toFixed(2)," MB"]}),p.jsx(de,{variant:"plain",onClick:()=>y(null),children:"Remove"})]}):p.jsx(Pt.FileUpload,{actionTitle:"Upload PDF",actionHint:"or drag and drop"})}),p.jsx(Q,{gap:"200",children:p.jsx(de,{variant:"primary",onClick:D,loading:A&&((we=n.formData)==null?void 0:we.get("intent"))==="extract-pdf",disabled:!v,children:"Extract Content from PDF"})}),p.jsx(ze,{tone:"info",children:p.jsx(W,{as:"p",variant:"bodySm",children:"Upload manufacturer spec sheets or product brochures. Works best with text-based PDFs. Image-only PDFs may not extract correctly."})})]}),b===2&&p.jsxs(ae,{gap:"400",children:[p.jsx(Ee,{label:"Manufacturer product page URL",value:g,onChange:T,placeholder:"https://www.usa.canon.com/shop/p/eos-r5-mark-ii",autoComplete:"off",prefix:p.jsx(ve,{source:Jn})}),p.jsx(de,{variant:"primary",onClick:z,loading:A&&((Ie=n.formData)==null?void 0:Ie.get("intent"))==="extract-url",disabled:!g.trim(),children:"Scrape & Extract Content"}),p.jsx(ze,{tone:"info",children:p.jsx(W,{as:"p",variant:"bodySm",children:"Supported manufacturers: Canon, Sony, Nikon, Fujifilm, Panasonic, Leica, Sigma, Tamron, DJI, GoPro, and more. Works best with product specification pages."})})]}),S&&i&&p.jsx(ze,{tone:"success",children:p.jsxs(ae,{gap:"100",children:[p.jsx(W,{as:"p",variant:"bodySm",fontWeight:"semibold",children:"Content extracted successfully!"}),S.type==="pdf"&&p.jsxs(W,{as:"p",variant:"bodySm",children:["Source: ",S.filename," (",S.pages," pages)"]}),S.type==="url"&&p.jsxs(W,{as:"p",variant:"bodySm",children:["Source: ",S.title||S.url,S.manufacturer&&` (${S.manufacturer})`]})]})})]})}),i&&p.jsx(st,{children:p.jsxs(ae,{gap:"500",children:[p.jsxs(Q,{align:"space-between",children:[p.jsx(W,{as:"h2",variant:"headingMd",children:"Step 3: Review & Edit Content"}),p.jsx(de,{variant:"tertiary",onClick:()=>m(!0),children:"Preview JSON"})]}),p.jsxs(ae,{gap:"300",children:[p.jsxs(Q,{align:"space-between",children:[p.jsxs(W,{as:"h3",variant:"headingSm",children:["Highlights (",i.highlights.length,")"]}),p.jsx(de,{variant:"plain",onClick:q,icon:lt,children:"Add"})]}),i.highlights.map((x,M)=>p.jsxs(Q,{gap:"200",align:"start",blockAlign:"center",children:[p.jsx("div",{style:{flex:1},children:p.jsx(Ee,{label:"",labelHidden:!0,value:x,onChange:h=>Y(M,h),autoComplete:"off"})}),p.jsx(de,{variant:"plain",tone:"critical",onClick:()=>_(M),icon:et})]},M))]}),p.jsx(ot,{}),p.jsxs(ae,{gap:"300",children:[p.jsxs(Q,{align:"space-between",children:[p.jsxs(W,{as:"h3",variant:"headingSm",children:["Featured Specs (",i.featured.length,")"]}),p.jsx(de,{variant:"plain",onClick:ie,icon:lt,children:"Add"})]}),i.featured.map((x,M)=>p.jsxs(Q,{gap:"200",align:"start",blockAlign:"end",children:[p.jsx("div",{style:{flex:1},children:p.jsx(Ee,{label:"Title",value:x.title,onChange:h=>H(M,"title",h),autoComplete:"off"})}),p.jsx("div",{style:{flex:1},children:p.jsx(Ee,{label:"Value",value:x.value,onChange:h=>H(M,"value",h),autoComplete:"off"})}),p.jsx(de,{variant:"plain",tone:"critical",onClick:()=>te(M),icon:et})]},M))]}),p.jsx(ot,{}),p.jsxs(ae,{gap:"300",children:[p.jsxs(Q,{align:"space-between",children:[p.jsxs(W,{as:"h3",variant:"headingSm",children:["What's Included (",i.included.length,")"]}),p.jsx(de,{variant:"plain",onClick:ee,icon:lt,children:"Add"})]}),i.included.map((x,M)=>p.jsxs(Q,{gap:"200",align:"start",blockAlign:"end",children:[p.jsx("div",{style:{flex:2},children:p.jsx(Ee,{label:"Item",value:x.title,onChange:h=>le(M,"title",h),autoComplete:"off"})}),p.jsx("div",{style:{flex:1},children:p.jsx(Ee,{label:"Link (optional)",value:x.link,onChange:h=>le(M,"link",h),autoComplete:"off",placeholder:"/products/..."})}),p.jsx(de,{variant:"plain",tone:"critical",onClick:()=>V(M),icon:et})]},M))]}),p.jsx(ot,{}),p.jsxs(ae,{gap:"400",children:[p.jsxs(W,{as:"h3",variant:"headingSm",children:["Specifications (",i.specs.length," groups)"]}),i.specs.map((x,M)=>p.jsx(st,{children:p.jsxs(ae,{gap:"300",children:[p.jsx(W,{as:"h4",variant:"headingSm",children:x.heading}),x.lines.map((h,w)=>p.jsxs(Q,{gap:"200",align:"start",blockAlign:"end",children:[p.jsx("div",{style:{flex:1},children:p.jsx(Ee,{label:"Spec",value:h.title,onChange:B=>ce(M,w,"title",B),autoComplete:"off",size:"slim"})}),p.jsx("div",{style:{flex:2},children:p.jsx(Ee,{label:"Value",value:h.text,onChange:B=>ce(M,w,"text",B),autoComplete:"off",size:"slim"})}),p.jsx(de,{variant:"plain",tone:"critical",onClick:()=>se(M,w),icon:et})]},w))]})},M))]}),p.jsx(ot,{}),p.jsx(Q,{align:"end",children:p.jsx(de,{variant:"primary",onClick:Ce,loading:P,disabled:!s,icon:qn,children:"Save to Product Metafields"})}),!s&&p.jsx(ze,{tone:"warning",children:"Please select a product in Step 1 before saving."})]})}),p.jsx(Me,{open:f,onClose:()=>m(!1),title:"JSON Preview",children:p.jsx(Me.Section,{children:p.jsx("pre",{style:{fontSize:"12px",overflow:"auto",maxHeight:"500px",background:"#f6f6f7",padding:"16px",borderRadius:"8px"},children:JSON.stringify(i,null,2)})})})]})})}export{Gs as default};
